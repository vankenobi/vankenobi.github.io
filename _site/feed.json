{
    "version": "https://jsonfeed.org/version/1",
    "title": "Vankenobi",
    "home_page_url": "http://localhost:4000/",
    "feed_url": "http://localhost:4000/feed.json",
    "description": "Writting",
    "icon": "http://localhost:4000/apple-touch-icon.png",
    "favicon": "http://localhost:4000/favicon.ico",
    "expired": false,
    
    "author": "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}",
    
"items": [
    
        {
            "id": "http://localhost:4000/2021/07/04/esp8266-low-power-door-sensor-with-homeassistant-integration-en",
            "title": "Esp8266 Low Power Door Sensor With HomeAssistant Integration (EN)",
            "summary": null,
            "content_text": "About This ProjectHi everyone, this project is door sensor project consuming low power and running long time. I integrated this sensor to my homeassistant home system. Sensor communication is wifi and using mqtt protocol. Sensor is working when magnet leave  then connecting to mqtt broker  finally it is sending  current battery status and  “Open” text.Let’s talk about requirements for this project and then project making if you want.What is HomeAssistant ?Home assistant is Home Automation Hub. Or Home Automation Software to be more precise. It’s free and open source and fully local alternative to things like HomeBridge and SmartThings. It gives you the power of home automation without the cloud so you won’t depend on internet connection or remote servers. This results in faster operation and reliability. You can visit this website if you think need more information.Starting To ProjectFirst one we should print the 3d parts of this project. You should access from here  the 3d parts of this project if you wondered. By the way at website where i put 3d parts is people is sharing own 3d designs. This website called “Thingiverse” is very useful site for who searching different things and different design. You can find below settings of cura slicer program for this 3d parts.Cura And Print Settings  0,3mm layer thickness (resolution)  No Rafts  No support  %25 infill  Filament Material (PLA)  My 3D printer is Ender 3 Pro but you can use any 3d printer brandRequirements Of This Project  1 pcs Esp8266-01  1 pcs Reed Switch (Normally Open)  2 pcs 2 Pin 2.50mm DIP Pcb Type Header Straight (one female one male)  3 pcs M3 6mm screw  8 pcs female jumper header (for esp8266 assembly)  2 pcs 1 Kohm resistors  1 pcs 220 ohm resistor  1 pcs pertinax  2 pcs magnet (6,5mm * 11,7mm * 8mm)Step 1 (Creating the circuit and soldering the components)We will combine the above supplied all parts. I combined the all parts on breadboard for try to circuit and i combined the all parts on pertinax after be success. As result it happened a compact thing like  above photo.Step 2 (How is work this sensor ?)This sensor take power from two pcs AA battery. Reed switch closed when magnet leave and then NPN transistor connect gnd pin to reset pin of esp8266. So esp8266 reboots. Esp8266 is going deep sleep after all process is done. Until it wake up again. It is a simple circuit to understand. I forgot to pull gpio 0 pin to vcc while design it on fritzing. You can pull gpio 0 to vcc pin with 10k resistor.Step 3 (How is install mqtt extension on homeassistant ?)I won’t long describe the this point but i have watch very good video about the this step. This video is helpful about installing mqtt on Homeassistant. You should watch this video if you want success for this step.Below i gave configuration lines for this sensor the configuration.yaml from my homeassistant.            Door sensor state configuration      Door sensor battery state configuration                              I want say about above sensor configurations. “off_delay” refers to the time taken by the sensor after the “Open” signal is sent, until the “Close” signal is sent. Battery value percent is calculating with esp8266 and then it is sending  to broker as json format. AA battery is generally kill at 2.8 voltage value so “map” method  is  bottom value 2.8 and upper value 3,2 voltage. If you wonder the map method you can acces this link.Advantage of this sensor  Sensor power consumption is ultra low (during DeepSleep below 10 microamps)  It is so cheap (about 5$ ~ 8$)  Sensor is working so long time (about 3 years)  You can see battery status on your home panel  It is working just with 2 AA batteryDisadvantage of this sensor  Sending via wifi connection is a little bit slow (just 4 seconds)  It is sending just “Open” information when door open so not when closeSource Code#include &lt;PubSubClient.h&gt; // Mqtt için gerekli kütüphane#include &lt;ESP8266WiFi.h&gt;#include &lt;ArduinoJson.h&gt;#include &lt;EEPROM.h&gt;ADC_MODE(ADC_VCC); // Vcc pininden analog okuma yapabilmek aktif edilir.//USER CONFIGURED SECTION START//const char* ssid = \"Your Wifi SSID\"; const char* password = \"Your Wifi Password\";const char* mqtt_server = \" Your Mqtt Server Ip Address\";const int mqtt_port = 1883; // Mqtt port numberconst char *mqtt_user = \"Your Mqtt User Name\";const char *mqtt_pass = \"Your Mqtt Password\";const char *mqtt_client_name = \"Your Client Name\"; // for example: Outdoor Door Sensorconst char *mqtt_topic = \"Your Sensor Topic\"; // for example: outdoor/door_sensor//USER CONFIGURED SECTION END//DynamicJsonDocument doc(50);  char buffer[50];WiFiClient espClient;PubSubClient client(espClient); //Functionsvoid setup_wifi()  // Wifi bağlantı fonskiyonu{  short int retries = 0;  while (WiFi.status() != WL_CONNECTED &amp;&amp; retries &lt;= 1)   {    WiFi.begin(ssid, password);    retries++;  }}void reconnect()  // Mqtt sunucusuna bağlanır ve veriyi gönderir.{  String battery = String(map(ESP.getVcc(),2400,3125,0,100)).c_str();  doc[\"battery\"] = battery;  doc[\"status\"] = \"Open\";  serializeJson(doc,buffer);  while(!client.connected())  {    delay(200);    if(client.connect(mqtt_client_name, mqtt_user, mqtt_pass) == true)    {      client.publish(mqtt_topic, buffer, true);      delay(200);    }  }  ESP.deepSleep(0); // veri gönderildikten sonra modül derin uykuya geçer.}  void setup() {  setup_wifi();  client.setServer(mqtt_server, mqtt_port);}void loop() {  reconnect();}ResultVideo    ",
            "content_html": "<p><br /></p><p><img src=\"https://drive.google.com/uc?export=view&amp;id=12pLLNftPSHT9aJkCZGEXDJivoaW0hkL8\" alt=\"photo\" /></p><h3 id=\"about-this-project\">About This Project</h3><p>Hi everyone, this project is door sensor project consuming low power and running long time. <br />I integrated this sensor to my homeassistant home system. Sensor communication is wifi and using mqtt protocol. Sensor is working when magnet leave  then connecting to mqtt broker  finally it is sending  current battery status and  “Open” text.Let’s talk about requirements for this project and then project making if you want.</p><p><br /></p><h3 id=\"what-is-homeassistant-\">What is HomeAssistant ?</h3><p><img src=\"https://drive.google.com/uc?export=view&amp;id=14BbUkBHtHntvVoomfbj64dP78iPQQ2n_\" alt=\"photo\" /></p><p>Home assistant is Home Automation Hub. Or Home Automation Software to be more precise. It’s free and open source and fully local alternative to things like HomeBridge and SmartThings. It gives you the power of home automation without the cloud so you won’t depend on internet connection or remote servers. This results in faster operation and reliability. You can visit <a href=\"https://en.wikipedia.org/wiki/Home_Assistant\" target=\"_blank\">this</a> website if you think need more information.</p><p><br /></p><hr /><h3 id=\"starting-to-project\">Starting To Project</h3><p>First one we should print the 3d parts of this project. You should access from <a href=\"https://www.thingiverse.com/thing:4899894\" target=\"_blank\">here</a>  the 3d parts of this project if you wondered. By the way at website where i put 3d parts is people is sharing own 3d designs. This website called “Thingiverse” is very useful site for who searching different things and different design. You can find below settings of cura slicer program for this 3d parts.</p><h4 id=\"cura-and-print-settings\">Cura And Print Settings</h4><ul>  <li>0,3mm layer thickness (resolution)</li>  <li>No Rafts</li>  <li>No support</li>  <li>%25 infill</li>  <li>Filament Material (PLA)</li>  <li>My 3D printer is Ender 3 Pro but you can use any 3d printer brand</li></ul><p><br /></p><h4 id=\"requirements-of-this-project\">Requirements Of This Project</h4><p><img src=\"https://drive.google.com/uc?export=view&amp;id=13Q2l1tuU9ixBerHXvIdYtLBbRp1cX0dx\" alt=\"photo\" /></p><ul>  <li>1 pcs Esp8266-01</li>  <li>1 pcs Reed Switch (Normally Open)</li>  <li>2 pcs 2 Pin 2.50mm DIP Pcb Type Header Straight (one female one male)</li>  <li>3 pcs M3 6mm screw</li>  <li>8 pcs female jumper header (for esp8266 assembly)</li>  <li>2 pcs 1 Kohm resistors</li>  <li>1 pcs 220 ohm resistor</li>  <li>1 pcs pertinax</li>  <li>2 pcs magnet (6,5mm * 11,7mm * 8mm)</li></ul><p><br /></p><h4 id=\"step-1-creating-the-circuit-and-soldering-the-components\">Step 1 (Creating the circuit and soldering the components)</h4><p><img src=\"https://drive.google.com/uc?export=view&amp;id=13wdfkZ2sbM2Q-12x4iJgmFK3kq0KoNYF\" alt=\"photo\" /></p><p>We will combine the above supplied all parts. I combined the all parts on breadboard for try to circuit and i combined the all parts on pertinax after be success. As result it happened a compact thing like  above photo.</p><p><br /></p><h4 id=\"step-2-how-is-work-this-sensor-\">Step 2 (How is work this sensor ?)</h4><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1n9hwCUQuWT8c5ZpsxoqSRAOcgD4VrFMe\" alt=\"photo\" /></p><p>This sensor take power from two pcs AA battery. Reed switch closed when magnet leave and then NPN transistor connect gnd pin to reset pin of esp8266. So esp8266 reboots. Esp8266 is going deep sleep after all process is done. Until it wake up again. It is a simple circuit to understand. <strong>I forgot to pull gpio 0 pin to vcc while design it on fritzing. You can pull gpio 0 to vcc pin with 10k resistor.</strong></p><p><br /></p><h4 id=\"step-3-how-is-install-mqtt-extension-on-homeassistant-\">Step 3 (How is install mqtt extension on homeassistant ?)</h4><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1tznZQgyxmWzyA9dfksSVu8CUMgj10gy2\" alt=\"photo\" /></p><p>I won’t long describe the this point but i have watch very good video about the this step. This video is helpful about installing mqtt on Homeassistant. You should watch <a href=\"https://www.youtube.com/watch?v=dqTn-Gk4Qeo\" target=\"_blank\">this</a> video if you want success for this step.</p><p>Below i gave configuration lines for this sensor the configuration.yaml from my homeassistant.</p><table>  <thead>    <tr>      <th style=\"text-align: center\">Door sensor state configuration</th>      <th style=\"text-align: center\">Door sensor battery state configuration</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1lx3viJ77UnNVECp2HlUZLMu7glCfJQgS\" alt=\"Battery Status\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1ktZwaCo9NGzRPtDDHHgpxqqH7WiX8JiU\" alt=\"Status\" /></td>    </tr>  </tbody></table><p>I want say about above sensor configurations. “off_delay” refers to the time taken by the sensor after the “Open” signal is sent, until the “Close” signal is sent. Battery value percent is calculating with esp8266 and then it is sending  to broker as json format. AA battery is generally kill at 2.8 voltage value so “map” method  is  bottom value 2.8 and upper value 3,2 voltage. If you wonder the map method you can acces <a href=\"https://www.arduino.cc/reference/en/language/functions/math/map/\" target=\"_blank\">this</a> link.</p><hr /><h4 id=\"advantage-of-this-sensor\">Advantage of this sensor</h4><ul>  <li>Sensor power consumption is ultra low (during DeepSleep below 10 microamps)</li>  <li>It is so cheap (about 5$ ~ 8$)</li>  <li>Sensor is working so long time (about 3 years)</li>  <li>You can see battery status on your home panel</li>  <li>It is working just with 2 AA battery</li></ul><h4 id=\"disadvantage-of-this-sensor\">Disadvantage of this sensor</h4><ul>  <li>Sending via wifi connection is a little bit slow (just 4 seconds)</li>  <li>It is sending just “Open” information when door open so not when close</li></ul><h4 id=\"source-code\">Source Code</h4><pre><code class=\"language-c\">#include &lt;PubSubClient.h&gt; // Mqtt için gerekli kütüphane#include &lt;ESP8266WiFi.h&gt;#include &lt;ArduinoJson.h&gt;#include &lt;EEPROM.h&gt;ADC_MODE(ADC_VCC); // Vcc pininden analog okuma yapabilmek aktif edilir.//USER CONFIGURED SECTION START//const char* ssid = \"Your Wifi SSID\"; const char* password = \"Your Wifi Password\";const char* mqtt_server = \" Your Mqtt Server Ip Address\";const int mqtt_port = 1883; // Mqtt port numberconst char *mqtt_user = \"Your Mqtt User Name\";const char *mqtt_pass = \"Your Mqtt Password\";const char *mqtt_client_name = \"Your Client Name\"; // for example: Outdoor Door Sensorconst char *mqtt_topic = \"Your Sensor Topic\"; // for example: outdoor/door_sensor//USER CONFIGURED SECTION END//DynamicJsonDocument doc(50);  char buffer[50];WiFiClient espClient;PubSubClient client(espClient); //Functionsvoid setup_wifi()  // Wifi bağlantı fonskiyonu{  short int retries = 0;  while (WiFi.status() != WL_CONNECTED &amp;&amp; retries &lt;= 1)   {    WiFi.begin(ssid, password);    retries++;  }}void reconnect()  // Mqtt sunucusuna bağlanır ve veriyi gönderir.{  String battery = String(map(ESP.getVcc(),2400,3125,0,100)).c_str();  doc[\"battery\"] = battery;  doc[\"status\"] = \"Open\";  serializeJson(doc,buffer);  while(!client.connected())  {    delay(200);    if(client.connect(mqtt_client_name, mqtt_user, mqtt_pass) == true)    {      client.publish(mqtt_topic, buffer, true);      delay(200);    }  }  ESP.deepSleep(0); // veri gönderildikten sonra modül derin uykuya geçer.}  void setup() {  setup_wifi();  client.setServer(mqtt_server, mqtt_port);}void loop() {  reconnect();}</code></pre><p><br /></p><h3 id=\"result\">Result</h3><p><img src=\"https://drive.google.com/uc?export=view&amp;id=14TEsbQuAkt920GQOSgotyLrLcfacSDn9\" alt=\"photo\" /></p><p><br /></p><h3 id=\"video\">Video</h3><div class=\"youtube-wrapper\">    <iframe src=\"https://www.youtube.com/embed/VyPQYQwkDsM\" allowfullscreen=\"\"></iframe></div>",
            "url": "http://localhost:4000/2021/07/04/esp8266-low-power-door-sensor-with-homeassistant-integration-en",
            
            
            
            "tags": ["Esp8266","Door sensor","HomeAssistant","3D Printer","MQTT","DIY Project","Deep Sleep","Transistor"],
            
            "date_published": "2021-07-04T00:50:00+03:00",
            "date_modified": "2021-07-04T00:50:00+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2021/06/01/esp8266-01-i%CC%87le-hareket-sens%C3%B6r%C3%BC-projesi",
            "title": "Esp8266-01 + IFTTT + PIR Sensor Kullanarak Hareket Sensörü Projesi",
            "summary": null,
            "content_text": "Proje HakkındaHerkese merhabalar, bu blog yazısındaki projede uzun süre çalışabilen hareket algıladığında Google Tablolara (Google Sheets) kayıt tutabilen ve aynı zamanda IFTTT üzerinden mobil cihazınıza bildirim gönderebilen bir proje gerçekleştireceğim.Proje Gereksinimleri  Esp8266-01  HC-SR501 PIR Sensor (Hareket Sensörü)  1 Adet Toggle Switch  Bir kaç bağlantı kablosu  2 adet AA pil  Ürün şasisi (3d printer ile çıkacak .stl formatlı dosyalar)  4 adet 3 mm vidaProjede Kullanılan Bazı Kütüphane Ve Platformlar  IFTTT  Google Sheet  WifiManager KütüphanesiProje İçin Kullanılan Platformların Tanıtılması Ve KurulumuIFTTT Nedir ?IFTTT “If This, Then That” anlamına gelir. IFTTT hem bir websitesidir hem de bir mobil uygulamaya sahiptir. Platformun sağladığı şey uygulamaları birbirine bağlamak. Kısacası servislerin ve cihazların birbirleri ile konuşması diyebiliriz. Örneğin android telefonunuzda bir arama yaparsanız, o aramanın günlüğü bir Google e-tablosuna eklenir. Bunu IFTTT size sağlar. Veya evde telefonunuzu kaybettiğiniz zaman google home mini cihazınıza “Benim telefonum nerede ?” sorusunu iletirseniz telefonunuzu çaldıracaktır. Bir başka örnek ise toplantı saatiniz geldiğinde philips hue ampüllerinizi yeşil renkte yakabilirsiniz. Bu ve bunun gibi senaryoları IFTTT ile yapmanız mümkün. Bu projede IFTTT aracılığı ile aşağıdaki olaylar gerçekleştirilecek;      Hareket sensörü eğer bir hareket algıladıysa bu hareketin zamanını ve “Hareket Algılandı !” yazısını Google Tablolara (Google Sheets) kayıt etmesini gerçekleştireceğiz.        IFTTT notification applet’i aracılığı ile IFTTT kurulu olan mobil cihazınıza hareketin algılandığını bildirim olarak göndereceğiz.  Google Tablolar (Google Sheets) Nedir ?Google E-Tablolar, e-tablolar oluşturmak ve düzenlemek için kullanılan, ücretsiz web üzerinden kontrol edilebilen bir programdır. Google E-Tablolar, Google Dokümanlar ve Google Slaytlarla beraber Google’ın Drive içerisinde bir parçası olarak gösterilebilir. Microsoft’un Office programlarına benzer bir yapıdadır. Microsoft Office uygulamalarına göre sistemin artıları var. Uzaktan birden fazla sayıda cihazla kontrol, grup olarak çalışma gibi artılarla beraber Google tabloların bunların dışında birden fazla avantajlı özelliği vardır.Wifi Manager Kütüphanesi Nedir ?WifiManager bir wifi yönetim kütüphanesidir. Bu kütüphane esp8266-01 kartının bağlanması gereken wifi ağını kod içerisinde tanımlamak yerine cihazın kullanıcıya sunmuş olduğu web sayfası sayesinde dışarıdan girme özelliği sunuyor. WifiManager kütüphanesinin çalışma şeklinin akış diyagramı aşağıda görülmektedir.Deep Sleep Nedir ?Pil ile çalışan bir esp8266 ile proje yaptıysanız veya nodeMCU kartınızı bir güç bankasına bağladıysanız bir süre sonra, özellikle projede wifi kullanıyorsanız pilin uzun sürmediğini fark edeceksiniz. Özellikle Iot cihazlarda ve mobil çalışan cihazlarda bu durum büyük problemdir. Ancak DeepSleep buna büyük anlamda çözüm getirir. Wifi bağlantısı cihazın daha fazla akım çekmesine sebep olur. Bu nedenle pilin enerjisini hızlıca tüketmesi kaçınılmazdır. Bu durum Deep Sleep sayesinde kolayca ve büyük bir oranla aşılabilir. DeepSleep mikroişlemci tarafında bir özelliktir.Varsayalım bir hava istasyonu projesi yaptınız. Dht11 sıcaklık ve nem sensöründen gelen verileri esp8266 kartı aracılığı ile internete çıkarıyorsunuz ve her saat başı bu işlemi yaptırıyorsunuz. Varsayalım her bir işlem sadece 5 saniyede kendini tamamlasın. Cihaz bir gün içerisinde sadece 24 kez bu işlemi gerçekleştirecek ve toplamda 120 saniye yani 2 dakika çalışacak. Bir günde 24*60 = 1440 dakika var.  1440 - 24 = 1416 dakika cihaz boşuna çalışmış olacak. Burada DeepSleep imdadımıza yetişiyor. DeepSleep sayesinde cihaz görevi bittikten sonra derin uykuya geçerek işlemciyi kapatıyor ve bir sonraki göreve gelene kadar uyanmıyor.Burada esp8266 modülünü uyandırmak için RTC kullanılabileceği gibi modül üzerinde bulunan enable pinine 3v kare sinyal gönderilerek de uyandırılabilir.Bu projede cihazı uyandıran etken hareket sensöründen esp8266 üzerindeki enable pinine gelen ve yaklaşık olarak 20 saniye süren 3v kare sinyaldir.Yukarıdaki tabloda görüldüğü gibi deepsleep modunda modül RTC hariç diğer her şeyi (Wifi,System Clock, CPU) kapatarak yaklaşık 20 mikroamperlik çekilen akım miktarına ulaşıyor. Tabloda bu modül için 3 farklı sleep modu bulunmaktadır. Bunlardan en az güç tüketen sleep modu deepsleep’dir.Projenin IFTTT KurulumuBu kısımda proje için gerekli IFTTT ayaralarının kurulumu anlatılmaktadır.IFTTT Google Tablolar BağlantısıIFTTT web sitesine buradan ulaşabilirsiniz. Siteye google hesabınızla kayıt olup giriş yaptıktan sonra sırasıyla aşağıdaki adımları izleyerek google tablolara bağlanarak hareket algılandığında tabloya kayıt yaptırabiliriz.Ana sayfada “create” butonuna bastıktan ve if kutucuğu içerisindeki “add” butonuna bastıktan sonra servisler içerisinden webhook servisini seçiyoruz.İlk olarak IFTTT sitesinde ana sayfada iken sağ üst köşedeki “Create” butonuna tıklıyoruz.Gelen sayfada if kutucuğu içerisindeki “add” butonuna tıklıyoruz.event name kısmına Iot_Motion_Sensor yazıyorum bu benim yazdığım programın bir gereği siz başka bir şey yazabilirsiniz ancak az sonra göstereceğim link içerisinde bunu belirtmeniz gerekir. create trigger butonuna tıkladıktan sonra then kutucuğunun içerisindeki add butonuna tıklıyoruz ve tekrardan yeni bir servis arıyoruz.Google sheets servisini arıyoruz ve seçiyoruz.Daha sonra add row to spreadsheet seçeneğine tıklıyoruz. Bunu seçmemizin sebebi tabloya her yeni bir bilgi geldiğinde yeni bir satıra ekleniyor olmasıdır.Ayarlar aşağıdaki gibi olmalıdır eğer isterseniz tablo adını değiştirebilirsiniz.Triggerdan önceki eğik çizgiden itibaren sona kadar olan kısmı kopyalayarak kod içerisindeki ilgili kısma yapıştırıyoruz. Burada test it butonuna basarak tabloya kayıt işlemini test edebilirsiniz. Eğer bu aşamaya kadar her şey doğru gittiyse google drive hesabınız içerisinde bir tablo oluşturacak ve içerisinde bir kayıt belirecektir.IFTTT Bildirim AyarlarıBu kısımda IFTTT mobil uygulaması aracılığıyla telefona bildirim gönderme özelliğini gerçekleştireceğiz.Yukarıdaki işlemle aynı olarak create butonuna basarak yeni bir senaryo oluşturacağız. Daha sonra if kutucuğundaki add butonuna tıkladıktan sonra webhook’u seçiyoruz. Aşağıdaki gibi textbox kısmına notification yazıp create trigger butonuna tıklıyoruz.Then kutucuğu içerisindeki add butonuna tıklayıp çıkan pencerede notification appletini aratarak buluyoruz ve daha sonra tıklıyoruz.Bu kısımda iki seçenek geliyor. Biz “Send a Notification From The IFTTT App” seçeneğine tıklayacağız.Son olarak bildirimin içeriğini çıkan pencerede girdikten sonra create action butonuna basarak senaryomuzu oluşturmuş oluyoruz.Bu kısımdan sonra google tablolara ekleme yaptığımız bölümde olduğu gibi linki alarak kod içerisindeki ilgili bölüme yapıştırıyoruz.Proje Devre ŞemasıProje Kaynak Kodları#include &lt;ESP8266WiFi.h&gt;#include &lt;ESP8266HTTPClient.h&gt;  #include &lt;DNSServer.h&gt;#include &lt;WiFiManager.h&gt; void Send_Notification_From_IFTTT(); void Start_To_Wifi_Connection();void makeIFTTTRequest(String status); // *********IFTTT****************const char* server = \"maker.ifttt.com\";const char* resource = \"google tablolar kayıt linki\"; // Google tablolar kayıt linkiHTTPClient http;void setup() {  Serial.begin(9600);  WiFiManager wifiManager;        wifiManager.autoConnect(\"Mlock Motion Security\"); // \"Mlock Motion Security\" adında bir AP oluşturur.}void loop() {  Send_Notification_From_IFTTT();  makeIFTTTRequest(\"Hareket algılandı!\");  ESP.deepSleep(0);                                 // Derin uykuya geçirir.}void Send_Notification_From_IFTTT()    {   String url = \"http://maker.ifttt.com/bildirim linki\"; // Bildirim senaryosunun linki  http.begin(url);  http.GET();  http.end();}void makeIFTTTRequest(String status) {  WiFiClient client;  Serial.print(\"Connecting to \");   Serial.print(server);    int retries = 5;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }  Serial.println();  if(!!!client.connected()) {    Serial.println(\"Failed to connect...\");  }    Serial.print(\"Request resource: \");   Serial.println(resource);  String jsonObject = String(\"{\\\"value1\\\":\\\"\") + status + \"\\\"}\";                        client.println(String(\"POST \") + resource + \" HTTP/1.1\");  client.println(String(\"Host: \") + server);   client.println(\"Connection: close\\r\\nContent-Type: application/json\");  client.print(\"Content-Length: \");  client.println(jsonObject.length());  client.println();  client.println(jsonObject);          int timeout = 5 * 10; //5 seconds               while(!!!client.available() &amp;&amp; (timeout-- &gt; 0)){    delay(100);  }  if(!!!client.available()) {    Serial.println(\"No response...\");  }  while(client.available()){    Serial.write(client.read());  }    Serial.println(\"\\nclosing connection\");  client.stop(); }Sonuç :)    ",
            "content_html": "<p><img src=\"https://drive.google.com/uc?export=view&amp;id=11bZA4BDXUXLq8-hZP5KknDR4OOC4TX9b\" alt=\"AsenkronServer\" /></p><h3 id=\"proje-hakkında\">Proje Hakkında</h3><p>Herkese merhabalar, bu blog yazısındaki projede uzun süre çalışabilen hareket algıladığında Google Tablolara (Google Sheets) kayıt tutabilen ve aynı zamanda IFTTT üzerinden mobil cihazınıza bildirim gönderebilen bir proje gerçekleştireceğim.</p><h4 id=\"proje-gereksinimleri\">Proje Gereksinimleri</h4><ul>  <li>Esp8266-01</li>  <li>HC-SR501 PIR Sensor (Hareket Sensörü)</li>  <li>1 Adet Toggle Switch</li>  <li>Bir kaç bağlantı kablosu</li>  <li>2 adet AA pil</li>  <li><a href=\"https://www.thingiverse.com/thing:4840469\" target=\"_blank\">Ürün şasisi (3d printer ile çıkacak .stl formatlı dosyalar)</a></li>  <li>4 adet 3 mm vida</li></ul><h4 id=\"projede-kullanılan-bazı-kütüphane-ve-platformlar\">Projede Kullanılan Bazı Kütüphane Ve Platformlar</h4><ul>  <li><a href=\"https://ifttt.com/\" target=\"_blank\">IFTTT</a></li>  <li><a href=\"https://www.google.com/sheets/about/\" target=\"_blank\">Google Sheet</a></li>  <li><a href=\"https://github.com/tzapu/WiFiManager\" target=\"_blank\">WifiManager Kütüphanesi</a></li></ul><h3 id=\"proje-i̇çin-kullanılan-platformların-tanıtılması-ve-kurulumu\">Proje İçin Kullanılan Platformların Tanıtılması Ve Kurulumu</h3><h4 id=\"ifttt-nedir-\">IFTTT Nedir ?</h4><p><img src=\"https://drive.google.com/uc?id=1NgsrsokYAW9vGFxjRrjeGAEee_HoS7J8\" alt=\"Tittle-Photo\" /></p><p>IFTTT “If This, Then That” anlamına gelir. IFTTT hem bir websitesidir hem de bir mobil uygulamaya sahiptir. Platformun sağladığı şey uygulamaları birbirine bağlamak. Kısacası servislerin ve cihazların birbirleri ile konuşması diyebiliriz. Örneğin android telefonunuzda bir arama yaparsanız, o aramanın günlüğü bir Google e-tablosuna eklenir. Bunu IFTTT size sağlar. Veya evde telefonunuzu kaybettiğiniz zaman google home mini cihazınıza “Benim telefonum nerede ?” sorusunu iletirseniz telefonunuzu çaldıracaktır. Bir başka örnek ise toplantı saatiniz geldiğinde philips hue ampüllerinizi yeşil renkte yakabilirsiniz. Bu ve bunun gibi senaryoları IFTTT ile yapmanız mümkün. Bu projede IFTTT aracılığı ile aşağıdaki olaylar gerçekleştirilecek;</p><ul>  <li>    <p>Hareket sensörü eğer bir hareket algıladıysa bu hareketin zamanını ve “Hareket Algılandı !” yazısını Google Tablolara (Google Sheets) kayıt etmesini gerçekleştireceğiz.</p>  </li>  <li>    <p>IFTTT notification applet’i aracılığı ile IFTTT kurulu olan mobil cihazınıza hareketin algılandığını bildirim olarak göndereceğiz.</p>  </li></ul><p><br /></p><h4 id=\"google-tablolar-google-sheets-nedir-\">Google Tablolar (Google Sheets) Nedir ?</h4><p><br /></p><p><img src=\"https://drive.google.com/uc?id=1pYliib1K-MKSHgHeTYScSi4_-xigr6C0\" alt=\"Tittle-Photo\" /></p><p><br /></p><p>Google E-Tablolar, e-tablolar oluşturmak ve düzenlemek için kullanılan, ücretsiz web üzerinden kontrol edilebilen bir programdır. Google E-Tablolar, Google Dokümanlar ve Google Slaytlarla beraber Google’ın Drive içerisinde bir parçası olarak gösterilebilir. Microsoft’un Office programlarına benzer bir yapıdadır. Microsoft Office uygulamalarına göre sistemin artıları var. Uzaktan birden fazla sayıda cihazla kontrol, grup olarak çalışma gibi artılarla beraber Google tabloların bunların dışında birden fazla avantajlı özelliği vardır.</p><p><br /></p><h4 id=\"wifi-manager-kütüphanesi-nedir-\">Wifi Manager Kütüphanesi Nedir ?</h4><p>WifiManager bir wifi yönetim kütüphanesidir. Bu kütüphane esp8266-01 kartının bağlanması gereken wifi ağını kod içerisinde tanımlamak yerine cihazın kullanıcıya sunmuş olduğu web sayfası sayesinde dışarıdan girme özelliği sunuyor. WifiManager kütüphanesinin çalışma şeklinin akış diyagramı aşağıda görülmektedir.</p><p><img src=\"https://drive.google.com/uc?id=1v6B51nMlziV2WTL1qvUUdXD2kVETkwVE\" alt=\"Tittle-Photo\" /></p><p><br /></p><h3 id=\"deep-sleep-nedir-\">Deep Sleep Nedir ?</h3><p><br /></p><p><img src=\"https://drive.google.com/uc?id=1pqeKRWUHagcQ5pqNvR3e9bse5vjrpPHq\" alt=\"Tittle-Photo\" /></p><p>Pil ile çalışan bir esp8266 ile proje yaptıysanız veya nodeMCU kartınızı bir güç bankasına bağladıysanız bir süre sonra, özellikle projede wifi kullanıyorsanız pilin uzun sürmediğini fark edeceksiniz. Özellikle Iot cihazlarda ve mobil çalışan cihazlarda bu durum büyük problemdir. Ancak DeepSleep buna büyük anlamda çözüm getirir. Wifi bağlantısı cihazın daha fazla akım çekmesine sebep olur. Bu nedenle pilin enerjisini hızlıca tüketmesi kaçınılmazdır. Bu durum Deep Sleep sayesinde kolayca ve büyük bir oranla aşılabilir. DeepSleep mikroişlemci tarafında bir özelliktir.</p><p>Varsayalım bir hava istasyonu projesi yaptınız. Dht11 sıcaklık ve nem sensöründen gelen verileri esp8266 kartı aracılığı ile internete çıkarıyorsunuz ve her saat başı bu işlemi yaptırıyorsunuz. Varsayalım her bir işlem sadece 5 saniyede kendini tamamlasın. Cihaz bir gün içerisinde sadece 24 kez bu işlemi gerçekleştirecek ve toplamda 120 saniye yani 2 dakika çalışacak. Bir günde 24*60 = 1440 dakika var.  1440 - 24 = 1416 dakika cihaz boşuna çalışmış olacak. Burada DeepSleep imdadımıza yetişiyor. DeepSleep sayesinde cihaz görevi bittikten sonra derin uykuya geçerek işlemciyi kapatıyor ve bir sonraki göreve gelene kadar uyanmıyor.</p><p>Burada esp8266 modülünü uyandırmak için <a href=\"https://en.wikipedia.org/wiki/Real-time_clock\" target=\"_blank\">RTC</a> kullanılabileceği gibi modül üzerinde bulunan enable pinine 3v kare sinyal gönderilerek de uyandırılabilir.</p><p>Bu projede cihazı uyandıran etken hareket sensöründen esp8266 üzerindeki enable pinine gelen ve yaklaşık olarak 20 saniye süren 3v kare sinyaldir.</p><p><img src=\"https://drive.google.com/uc?id=1Hab03AvicGZn5WiPFKJaqE8WajHTMnSq\" alt=\"Tittle-Photo\" /></p><p>Yukarıdaki tabloda görüldüğü gibi deepsleep modunda modül RTC hariç diğer her şeyi (Wifi,System Clock, CPU) kapatarak yaklaşık 20 mikroamperlik çekilen akım miktarına ulaşıyor. Tabloda bu modül için 3 farklı sleep modu bulunmaktadır. Bunlardan en az güç tüketen sleep modu deepsleep’dir.</p><h2 id=\"projenin-ifttt-kurulumu\">Projenin IFTTT Kurulumu</h2><p>Bu kısımda proje için gerekli IFTTT ayaralarının kurulumu anlatılmaktadır.</p><h4 id=\"ifttt-google-tablolar-bağlantısı\">IFTTT Google Tablolar Bağlantısı</h4><p>IFTTT web sitesine <a href=\"https://ifttt.com/\">buradan</a> ulaşabilirsiniz. Siteye google hesabınızla kayıt olup giriş yaptıktan sonra sırasıyla aşağıdaki adımları izleyerek google tablolara bağlanarak hareket algılandığında tabloya kayıt yaptırabiliriz.</p><p>Ana sayfada “create” butonuna bastıktan ve if kutucuğu içerisindeki “add” butonuna bastıktan sonra servisler içerisinden webhook servisini seçiyoruz.</p><p><br /></p><p><strong>İlk olarak IFTTT sitesinde ana sayfada iken sağ üst köşedeki “Create” butonuna tıklıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1iLJ4JJd7-m1fLEu8Y1wJM15RXsZlJXZF\" alt=\"IFTTT Create\" /></p><p><br /></p><p><strong>Gelen sayfada if kutucuğu içerisindeki “add” butonuna tıklıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1B8G0RTALe21FgpL3oJmEuasAai2cAXGc\" alt=\"IFTTT IF THIS THAN THAT\" /></p><p><br /></p><p><strong>event name kısmına Iot_Motion_Sensor yazıyorum bu benim yazdığım programın bir gereği siz başka bir şey yazabilirsiniz ancak az sonra göstereceğim link içerisinde bunu belirtmeniz gerekir. create trigger butonuna tıkladıktan sonra then kutucuğunun içerisindeki add butonuna tıklıyoruz ve tekrardan yeni bir servis arıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=18sMi6XtDlcHowGZ0iyk4smMEw91zyjsN\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Google sheets servisini arıyoruz ve seçiyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1jHGeHfhtW_ecD_TgvVwF99dPzqlFIO0C\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Daha sonra add row to spreadsheet seçeneğine tıklıyoruz. Bunu seçmemizin sebebi tabloya her yeni bir bilgi geldiğinde yeni bir satıra ekleniyor olmasıdır.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1CnbDMIM9bwLpFpeo8HDDd8WhYBOnJyEa\" alt=\"google asistant ayarlar\" /></p><p><strong>Ayarlar aşağıdaki gibi olmalıdır eğer isterseniz tablo adını değiştirebilirsiniz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1HWE3MFWzSjnRSMarpMJIO2zsxnvD8CME\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Triggerdan önceki eğik çizgiden itibaren sona kadar olan kısmı kopyalayarak kod içerisindeki ilgili kısma yapıştırıyoruz. Burada test it butonuna basarak tabloya kayıt işlemini test edebilirsiniz. Eğer bu aşamaya kadar her şey doğru gittiyse google drive hesabınız içerisinde bir tablo oluşturacak ve içerisinde bir kayıt belirecektir.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1lmpzAYEXq-tjezLYjkVUDAoIKOXzS7Tp\" alt=\"google asistant ayarlar\" /></p><h4 id=\"ifttt-bildirim-ayarları\">IFTTT Bildirim Ayarları</h4><p>Bu kısımda IFTTT mobil uygulaması aracılığıyla telefona bildirim gönderme özelliğini gerçekleştireceğiz.</p><p><strong>Yukarıdaki işlemle aynı olarak create butonuna basarak yeni bir senaryo oluşturacağız. Daha sonra if kutucuğundaki add butonuna tıkladıktan sonra webhook’u seçiyoruz. Aşağıdaki gibi textbox kısmına notification yazıp create trigger butonuna tıklıyoruz.</strong></p><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1wkm9n_knZmtL2VYaVRRS5LRsVxHbKdnK\" alt=\"google asistant ayarlar\" /></p><p><strong>Then kutucuğu içerisindeki add butonuna tıklayıp çıkan pencerede notification appletini aratarak buluyoruz ve daha sonra tıklıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1MfW7cZt85L6TZKJ-CtEq8YvpAqq65M0h\" alt=\"google asistant ayarlar\" /></p><p><strong>Bu kısımda iki seçenek geliyor. Biz “Send a Notification From The IFTTT App” seçeneğine tıklayacağız.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1FP2x8NdCgMiMY0yMHHxEz5yJR8uP1q6h\" alt=\"google asistant ayarlar\" /></p><p><strong>Son olarak bildirimin içeriğini çıkan pencerede girdikten sonra create action butonuna basarak senaryomuzu oluşturmuş oluyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1ni5QuGvwtegBdMvGtUUGGoPY2yBjR7QY\" alt=\"google asistant ayarlar\" /></p><p><strong>Bu kısımdan sonra google tablolara ekleme yaptığımız bölümde olduğu gibi linki alarak kod içerisindeki ilgili bölüme yapıştırıyoruz.</strong></p><p><br /></p><h2 id=\"proje-devre-şeması\">Proje Devre Şeması</h2><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1FD-H2XcboMtBJ9XSJiew-ljU0Qpym0FJ\" alt=\"google asistant ayarlar\" /></p><p><br /></p><h2 id=\"proje-kaynak-kodları\">Proje Kaynak Kodları</h2><pre><code class=\"language-c\">#include &lt;ESP8266WiFi.h&gt;#include &lt;ESP8266HTTPClient.h&gt;  #include &lt;DNSServer.h&gt;#include &lt;WiFiManager.h&gt; void Send_Notification_From_IFTTT(); void Start_To_Wifi_Connection();void makeIFTTTRequest(String status); // *********IFTTT****************const char* server = \"maker.ifttt.com\";const char* resource = \"google tablolar kayıt linki\"; // Google tablolar kayıt linkiHTTPClient http;void setup() {  Serial.begin(9600);  WiFiManager wifiManager;        wifiManager.autoConnect(\"Mlock Motion Security\"); // \"Mlock Motion Security\" adında bir AP oluşturur.}void loop() {  Send_Notification_From_IFTTT();  makeIFTTTRequest(\"Hareket algılandı!\");  ESP.deepSleep(0);                                 // Derin uykuya geçirir.}void Send_Notification_From_IFTTT()    {   String url = \"http://maker.ifttt.com/bildirim linki\"; // Bildirim senaryosunun linki  http.begin(url);  http.GET();  http.end();}void makeIFTTTRequest(String status) {  WiFiClient client;  Serial.print(\"Connecting to \");   Serial.print(server);    int retries = 5;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }  Serial.println();  if(!!!client.connected()) {    Serial.println(\"Failed to connect...\");  }    Serial.print(\"Request resource: \");   Serial.println(resource);  String jsonObject = String(\"{\\\"value1\\\":\\\"\") + status + \"\\\"}\";                        client.println(String(\"POST \") + resource + \" HTTP/1.1\");  client.println(String(\"Host: \") + server);   client.println(\"Connection: close\\r\\nContent-Type: application/json\");  client.print(\"Content-Length: \");  client.println(jsonObject.length());  client.println();  client.println(jsonObject);          int timeout = 5 * 10; //5 seconds               while(!!!client.available() &amp;&amp; (timeout-- &gt; 0)){    delay(100);  }  if(!!!client.available()) {    Serial.println(\"No response...\");  }  while(client.available()){    Serial.write(client.read());  }    Serial.println(\"\\nclosing connection\");  client.stop(); }</code></pre><p><br /></p><h2 id=\"sonuç-\">Sonuç :)</h2><div class=\"youtube-wrapper\">    <iframe src=\"https://www.youtube.com/embed/HDxh7Rv0afM\" allowfullscreen=\"\"></iframe></div><p><br /></p>",
            "url": "http://localhost:4000/2021/06/01/esp8266-01-i%CC%87le-hareket-sens%C3%B6r%C3%BC-projesi",
            
            
            
            "tags": ["Esp8266","PIR sensor","Motion Sensor","Hareket Sensörü","IFTTT","3D Printer","3 Boyutlu Yazıcı","DIY Project","Deep Sleep","Wifi Manager","Static IP"],
            
            "date_published": "2021-06-01T14:39:00+03:00",
            "date_modified": "2021-06-01T14:39:00+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2021/03/27/uzaktan-kontroll%C3%BC-ve-google-asistant-i%CC%87le-kontrol-edilebilen-kap%C4%B1-otomati%C4%9Fi",
            "title": "Rfid Ve Google Asistant İle Açılabilen Kapı Otomatiği",
            "summary": null,
            "content_text": "Proje HakkındaHerkese merhabalar, bu blog yazısında Google asistan, rfid kart(anahtarlık), Blynk üzerinden açılabilen aynı zamanda google tablolar üzerinde kimin giriş yaptığını ve ne zaman girdiğini log tutabilen kapı otomatiği projesinden bahsedeceğim.Proje Gereksinimleri  RC522 RFID NFC modülü  NodeMCU geliştirme kartı  Yeşil, sarı, kırmızı (3 adet) 5mm led  1 adet buton  1 adet 220V röle  LM2596 ayarlanabilir voltaj düşürücü  2 Pin yeşil klemens  Delikli pertinaks  3D printerdan çıkarılması gereken STL dosyalarıProjede Kullanılan Platformlar  IFTTT  Blynk  Google Sheet1. Adım Proje İçin Blynk KurulumuBlynk Nedir ?Blynk nesnelerin interneti için tasarlanmış bir IOT platformudur. Donanımı uzaktan kontrol edebilir,donanıma bağlı sensörlerden gelen veriyi okuyabilir, verileri depolayabilir, görselleştirebilir ve diğer birçok şeyi yapabilen bir IOT platformudur.Blynk Kurulumu ?Google Play Store üzerinden Blynk uygulamasını android cihazınıza bu linkten ulaşarak kurabilirsiniz. Cihazınıza kurduktan sonra bir blynk hesabı oluşturmalısınız. Hesap oluşturduktan sonra “New Project” butonuna tıklayarak yeni bir proje oluşturmalısınız.            “New Project” butonuna tıkliyoruz      Proje adı, kartı ve bağlantı tipini seçerek “create” butonuna tıklıyoruz butona tıkladığınız anda kod içerisinde kullanacağımız auth kodu emailinize gönderilecek.                                          Widget kutusundan bir button ekliyoruz      Eklenen butonun pinini bir sanal pin olan V2 olarak değiştiriyoruz                                          Widget kutusundan bir notification ekliyoruz      Eklenen notification widget’ın ayarları                              Eklenen widgetlar sonrası blynk paneli genel görünümü2. Adım Proje İçin IFTTT (Google Assistant) KurulumuIFTTT Nedir ?IFTTT “If This, Then That” anlamına gelir. IFTTT hem bir websitesidir hem de bir mobil uygulamaya sahiptir. Platformun sağladığı şey uygulamaları birbirine bağlamak. Kısacası servislerin ve cihazların birbirleri ile konuşması diyebiliriz. Örneğin android telefonunuzda bir arama yaparsanız, o aramanın günlüğü bir Google e-tablosuna eklenir. Bunu IfTT size sağlar. Veya evde telefonunuzu kaybettiğiniz zaman google home mini cihazınıza “Benim telefonum nerede ?” sorusunu iletirseniz telefonunuzu çaldıracaktır. Bir başka örnek ise toplantı saatiniz geldiğinde philips hue ampüllerinizi yeşil renkte yakabilirsiniz. Bu ve bunun gibi senaryoları IFTTT ile yapmanız mümkün.Ben bu projede evinizdeki google home mini cihazına veya telefonunuzdaki google asistanınıza “hey google open the door” dediğinizde dış kapı otomatiğini tetiklettirmesini öğreteceğim.IFTTT (Google assistant Applet) Kurulumu ?IFTTT web sitesine buradan ulaşabilirsiniz. Siteye google hesabınızla kayıt olup giriş yaptıktan sonra sırasıyla aşağıdaki adımları izleyerek google asistan ile oluşturduğumuz sisteme komut gönderip kapyı açtırabiliriz.İlk olarak IFTTT sitesinde ana sayfada iken sağ üst köşedeki “Create” butonuna tıklıyoruz.Gelen sayfada if kutucuğu içerisindeki “add” butonuna tıklıyoruz.Ekrana gelen servisler içerisinden google assistant seçeneğini seçiyoruz.Bu kısımda olayın tetiklenmesi için google asistanınıza ne söylemek istediğinizi ve asistanınızın size dönüş olarak ne cevap vereceğini belirliyorsunuz. Create Trigger butonuna basıp tetikleyiciyi oluşturmuş oluyoruz.Gelen sayfada then that kutucuğu içerisindeki “add” butonuna tıklıyoruz ve servisler arasından webhooks’u seçiyoruz.“authcode” yazan kısma blynk’in kayıt olunan mail adresine gönderdiği auth kodunu yapıştırıyoruz ve diğer ayarları bu şekilde değiştiriyoruz. Create action butonuna basıyoruz2. Adım Proje İçin IFTTT (Google Sheets Applet) KurulumuIFTTT (Google Sheets Applet) Kurulumu ?Her giren kullanıcı için okuttuğu rfid kartın id’si, giriş yaptığı zaman, adı soyadı ve açılıp açılmadığı bilgilerini göndermek için google tablolarda kayıt tutuyoruz. Google sheet appletlerini eklemek için sırasıyla aşağıdaki adımları izlememiz gerekiyor. Tekrar ana sayfada “create” tuşuna bastıktan ve if kutucuğu içerisindeki “add” butonuna bastıktan sonra servisler içerisinden webhook servisini seçiyoruz.event name kısmına logger yazıyorum bu benim yazdığım programın bir gereği siz başka bir şey yazabilirsiniz. create trigger butonuna tıkladıktan sonra then kutucuğunun içerisindeki add butonuna tıklıyoruz ve tekrardan yeni bir servis arıyoruz.Google sheets servisini arıyoruz ve seçiyoruz.Daha sonra add row to spreadsheet seçeneğine tıklıyoruz. Bunu seçmemizin sebebi tabloya her yeni bir bilgi geldiğinde yeni bir satıra ekleniyor.Ayarlar aşağıdaki gibi olmalıdır eğer isterseniz tablo adını değiştirebilirsiniz.Proje Fritzing ŞemasıProje Kaynak Kodları#include &lt;SPI.h&gt;    // Rfid modülünün haberleşmesi için SPI kütüphanesi eklendi.#include &lt;MFRC522.h&gt;  // Rfid modülü için MFRC522 kütüphanesi eklendi.#include &lt;WiFiClient.h&gt; #define BLYNK_PRINT Serial#include &lt;ESP8266WiFi.h&gt;#include &lt;BlynkSimpleEsp8266.h&gt;//***** KABLOSUZ AYARLARI ******* char auth[] = \"Blynk auth code\";    //Blynk auth code girilecekconst char* ssid = \"Wifi SSID\";     //Bağlanılacak olan wifi ağı adıconst char* pass = \"Wifi Pass\";     //Bağlanılacak olan wifi ağı şifresi//************* IFTTT ****************const char* server = \"maker.ifttt.com\"; // Kişiye özel IFTTT Url'iconst char* resource = \"Google Sheet appletinden gelen link\";  // Google Sheet appletinde bulunan link//*********** RFID **************#define RST_PIN         D8           #define SS_PIN          D4          #define relay           D3#define button          D8MFRC522 mfrc522(SS_PIN, RST_PIN);   String readCardId = \"\"; // okunan kart idsiString tempid = \"\";     // değişken kart idsi//******** Led Pins and Button Pin *************#define green           D1#define red             D0#define yellow          D2unsigned long lastTime = 0;unsigned long lastTime1 = 0;unsigned long lastTime2 = 0;unsigned long delayTime = 10000; unsigned long delayTime1 = 2500;  unsigned long delayTime2 = 60000;WiFiClient client;//***** ANAHTAR LİSTESİ ***********String Key_list[2][2] =          // Anahtar Listesi  {  {\"örnek kullanıcı adı1\",\"örnek kullanıcı 1 kartid\"},  {\"örnek kullanıcı adı2\",\"örnek kullanıcı 2 kartid\"},    };// Google tablolar ile bağlantı sağlayan fonksiyon void connectGoogleSheets(){  int retries = 8;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }} // IFTTT web servisine bir http isteği gönderir.void makeIFTTTRequest(String name_surname,String kart_id,String durum) {  digitalWrite(red,HIGH);  Serial.print(\"Connecting to \");   Serial.print(server);    int retries = 5;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }  Serial.println();  if(!!!client.connected()) {    Serial.println(\"Failed to connect...\");  }    Serial.print(\"Request resource: \");   Serial.println(resource);    String jsonObject = String(\"{\\\"value1\\\":\\\"\") + name_surname + \"\\\",\\\"value2\\\":\\\"\" + kart_id                      + \"\\\",\\\"value3\\\":\\\"\" + durum + \"\\\"}\";                                    client.println(String(\"POST \") + resource + \" HTTP/1.1\");  client.println(String(\"Host: \") + server);   client.println(\"Connection: close\\r\\nContent-Type: application/json\");  client.print(\"Content-Length: \");  client.println(jsonObject.length());  client.println();  client.println(jsonObject);          int timeout = 5 * 10; // 5 seconds               while(!!!client.available() &amp;&amp; (timeout-- &gt; 0)){    delay(100);  }  if(!!!client.available()) {    Serial.println(\"No response...\");  }  while(client.available()){    Serial.write(client.read());  }    Serial.println(\"\\nclosing connection\");  client.stop();   digitalWrite(red,LOW);}String getID()  {  digitalWrite(green,HIGH);  delay(200);  readCardId = \"\";  if(!mfrc522.PICC_IsNewCardPresent())    {      return \"\";    }    if(!mfrc522.PICC_ReadCardSerial())    {      return \"\";    }    for(int i = 0; i &lt; mfrc522.uid.size;i++)    {      readCardId += String(mfrc522.uid.uidByte[i],HEX);    }    Serial.println(readCardId);    digitalWrite(green,LOW);    return readCardId;}void openDoor()   // Kapı aç metodu kapı otomatiğini 200 milisaniye açıyor ve kapatıyor.{  digitalWrite(relay,HIGH);  delay(200);  digitalWrite(relay,LOW);}void decision()   //Karar fonksiyonu ile gelen kart id'nin kararı verilir.{    for(int count=0;count&lt;11;count++)    {      if(Key_list[count][1] == tempid)      {        digitalWrite(red,HIGH);        digitalWrite(green,LOW);                Serial.print(Key_list[count][0]);       // Serial.println(\" Adli kisi giris yapti.\");        openDoor();        if(Blynk.connected()) makeIFTTTRequest(Key_list[count][0],Key_list[count][1],\"Açıldı.\");                digitalWrite(red,LOW);        digitalWrite(green,HIGH);        tempid = \"\";        break;      }    }     if(tempid != \"\")      {        if(Blynk.connected()) makeIFTTTRequest(\"Bilinmeyen Kullanici\",tempid,\"Açılmadı.\");        digitalWrite(red,HIGH);        delay(250);        digitalWrite(red,LOW);      }}BLYNK_WRITE(V2) // Blynk Write(v2) ile ikinci sanal pinden okuma alınır.Alınan okuma 1 ise kapı açma izni verilir.{  digitalWrite(green,LOW);  int pinData = param.asInt();   if(pinData == 1){    openDoor();    makeIFTTTRequest(\"Google Asistan\",\"Kartız\",\"Açıldı.\");  }  digitalWrite(green,HIGH);}void setup() {  Serial.begin(9600);  // Seri haberleşmeyi başlatıyoruz.                                           SPI.begin();         // Spi haberleşme başlatıldı.                                         mfrc522.PCD_Init();  // Rfid modül başlatıldı.    // röle,ledler,ve buton için giriş çıkış atandı.  pinMode(relay,OUTPUT);  pinMode(green,OUTPUT);  pinMode(red,OUTPUT);  pinMode(yellow,OUTPUT);  pinMode(button,INPUT);  digitalWrite(relay,LOW);    Blynk.config(auth,\"blynk-cloud.com\", 8080);  }void loop() {  unsigned long nowTime = millis();   unsigned long nowTime1 = millis();  unsigned long nowTime2 = millis();  if (nowTime - lastTime &gt;= delayTime)   {    lastTime = nowTime;        if(WiFi.status() != WL_CONNECTED) // her 10 saniyede bir internet bağlantısı kontrol edilir eğer bağlantı yok ise tekrar bağlanmayı dener.     {      digitalWrite(yellow,LOW);      WiFi.begin(ssid,pass);      Blynk.config(auth,\"blynk-cloud.com\", 8080);    }     else digitalWrite(yellow,HIGH);  }  if(nowTime1 - lastTime1 &gt;= delayTime1) // her 2,5 saniyede bir kapı açma isteği butonuna basılıp basılmadığı kontrol ediliyor.  {    lastTime1 = nowTime1;    if(digitalRead(button) == true){      digitalWrite(red,HIGH);      Blynk.notify(\"Bina içersindeki kapıdan bir kişi kapı açma isteği gönderdi.\");     }    else digitalWrite(red,LOW);  }  if(nowTime2 - lastTime2 &gt;= delayTime2)  // bir dakikada bir google tablolar ile bağlantı sağlanıyor.  {    lastTime2 = nowTime2;    connectGoogleSheets();  }   tempid = getID(); //kart üzerinde okunan kart id tempid değişkenine atılır.  decision();  // karar metodu ile kapının açılıp açılmayacağı kararı verilir.  Blynk.run();}Sonuç    ",
            "content_html": "<p><img src=\"https://drive.google.com/uc?id=1xHLijZcZAthUZLFhfuBar0_oeQHLvsBL\" alt=\"Tittle-Photo\" /></p><h1 id=\"proje-hakkında\">Proje Hakkında</h1><p>Herkese merhabalar, bu blog yazısında Google asistan, rfid kart(anahtarlık), Blynk üzerinden açılabilen aynı zamanda google tablolar üzerinde kimin giriş yaptığını ve ne zaman girdiğini log tutabilen kapı otomatiği projesinden bahsedeceğim.</p><h4 id=\"proje-gereksinimleri\">Proje Gereksinimleri</h4><ul>  <li>RC522 RFID NFC modülü</li>  <li>NodeMCU geliştirme kartı</li>  <li>Yeşil, sarı, kırmızı (3 adet) 5mm led</li>  <li>1 adet buton</li>  <li>1 adet 220V röle</li>  <li>LM2596 ayarlanabilir voltaj düşürücü</li>  <li>2 Pin yeşil klemens</li>  <li>Delikli pertinaks</li>  <li><a href=\"https://www.thingiverse.com/thing:4808529\" target=\"_blank\">3D printerdan çıkarılması gereken STL dosyaları</a></li></ul><h4 id=\"projede-kullanılan-platformlar\">Projede Kullanılan Platformlar</h4><ul>  <li><a href=\"https://ifttt.com/\" target=\"_blank\">IFTTT</a></li>  <li><a href=\"https://blynk.io/\" target=\"_blank\">Blynk</a></li>  <li><a href=\"https://www.google.com/sheets/about/\" target=\"_blank\">Google Sheet</a></li></ul><h1 id=\"1-adım-proje-i̇çin-blynk-kurulumu\">1. Adım Proje İçin Blynk Kurulumu</h1><h4 id=\"blynk-nedir-\">Blynk Nedir ?</h4><p>Blynk nesnelerin interneti için tasarlanmış bir IOT platformudur. Donanımı uzaktan kontrol edebilir,donanıma bağlı sensörlerden gelen veriyi okuyabilir, verileri depolayabilir, görselleştirebilir ve diğer birçok şeyi yapabilen bir IOT platformudur.</p><h4 id=\"blynk-kurulumu-\">Blynk Kurulumu ?</h4><p>Google Play Store üzerinden Blynk uygulamasını android cihazınıza <a href=\"https://play.google.com/store/apps/details?id=cc.blynk&amp;hl=tr\">bu linkten</a> ulaşarak kurabilirsiniz. Cihazınıza kurduktan sonra bir blynk hesabı oluşturmalısınız. Hesap oluşturduktan sonra “New Project” butonuna tıklayarak yeni bir proje oluşturmalısınız.</p><p><img src=\"https://drive.google.com/uc?id=1SGSmGWn1AgqbUdxsJi8LUmAtFHZQ8fiN\" alt=\"Blynk Google Play\" /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">“New Project” butonuna tıkliyoruz</th>      <th style=\"text-align: center\">Proje adı, kartı ve bağlantı tipini seçerek “create” butonuna tıklıyoruz butona tıkladığınız anda kod içerisinde kullanacağımız auth kodu emailinize gönderilecek.</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xeOLmsgKh12LBAX_sXz6e-fiD6r8TSP8\" alt=\"New Project\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xV83gX9S5CM69jvV2zPhj5L-ez34CA02\" alt=\"New Project Ayarları\" /></td>    </tr>  </tbody></table><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Widget kutusundan bir button ekliyoruz</th>      <th style=\"text-align: center\">Eklenen butonun pinini bir sanal pin olan V2 olarak değiştiriyoruz</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xlu-KwwMM17ob2y_DbUzFxnK6zsWlyGI\" alt=\"Button\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xhAAgSCMZNqoEnDWMeSvg0m6eD5ZBe54\" alt=\"Button Ayarları\" /></td>    </tr>  </tbody></table><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Widget kutusundan bir notification ekliyoruz</th>      <th style=\"text-align: center\">Eklenen notification widget’ın ayarları</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xgV8GeeIrfvCDjl0rTl9BZbxcfxCe9kn\" alt=\"Button\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1xgtCliMMW6ngqb3uLnj_9TEh7MnOpY3U\" alt=\"Button Ayarları\" /></td>    </tr>  </tbody></table><p><br /></p><h5 id=\"eklenen-widgetlar-sonrası-blynk-paneli-genel-görünümü\">Eklenen widgetlar sonrası blynk paneli genel görünümü</h5><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1y10caqjzqgRAtYqLVmAMviwtJG_KtK0L\" alt=\"New Project\" /></p><p><br /></p><h1 id=\"2-adım-proje-i̇çin-ifttt-google-assistant-kurulumu\">2. Adım Proje İçin IFTTT (Google Assistant) Kurulumu</h1><h4 id=\"ifttt-nedir-\">IFTTT Nedir ?</h4><p>IFTTT “If This, Then That” anlamına gelir. IFTTT hem bir websitesidir hem de bir mobil uygulamaya sahiptir. Platformun sağladığı şey uygulamaları birbirine bağlamak. Kısacası servislerin ve cihazların birbirleri ile konuşması diyebiliriz. Örneğin android telefonunuzda bir arama yaparsanız, o aramanın günlüğü bir Google e-tablosuna eklenir. Bunu IfTT size sağlar. Veya evde telefonunuzu kaybettiğiniz zaman google home mini cihazınıza “Benim telefonum nerede ?” sorusunu iletirseniz telefonunuzu çaldıracaktır. Bir başka örnek ise toplantı saatiniz geldiğinde philips hue ampüllerinizi yeşil renkte yakabilirsiniz. Bu ve bunun gibi senaryoları IFTTT ile yapmanız mümkün.</p><p>Ben bu projede evinizdeki google home mini cihazına veya telefonunuzdaki google asistanınıza “hey google open the door” dediğinizde dış kapı otomatiğini tetiklettirmesini öğreteceğim.</p><h4 id=\"ifttt-google-assistant-applet-kurulumu-\">IFTTT (Google assistant Applet) Kurulumu ?</h4><p>IFTTT web sitesine <a href=\"https://ifttt.com/\">buradan</a> ulaşabilirsiniz. Siteye google hesabınızla kayıt olup giriş yaptıktan sonra sırasıyla aşağıdaki adımları izleyerek google asistan ile oluşturduğumuz sisteme komut gönderip kapyı açtırabiliriz.</p><p><strong>İlk olarak IFTTT sitesinde ana sayfada iken sağ üst köşedeki “Create” butonuna tıklıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1iLJ4JJd7-m1fLEu8Y1wJM15RXsZlJXZF\" alt=\"IFTTT Create\" /></p><p><br /></p><p><strong>Gelen sayfada if kutucuğu içerisindeki “add” butonuna tıklıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1B8G0RTALe21FgpL3oJmEuasAai2cAXGc\" alt=\"IFTTT IF THIS THAN THAT\" /></p><p><br /></p><p><strong>Ekrana gelen servisler içerisinden google assistant seçeneğini seçiyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1tg7RbTajvHXVjf-WGprBpYe6847GIqdh\" alt=\"Google Assistant\" /></p><p><br /></p><p><strong>Bu kısımda olayın tetiklenmesi için google asistanınıza ne söylemek istediğinizi ve asistanınızın size dönüş olarak ne cevap vereceğini belirliyorsunuz. Create Trigger butonuna basıp tetikleyiciyi oluşturmuş oluyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1cTxWRGKWHt1BWMtlnqw2s9fN_3S_P6XQ\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Gelen sayfada then that kutucuğu içerisindeki “add” butonuna tıklıyoruz ve servisler arasından webhooks’u seçiyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1jpKy1QGhKs6HmuK5v5cCx6XrOQV3cPt1\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>“authcode” yazan kısma blynk’in kayıt olunan mail adresine gönderdiği auth kodunu yapıştırıyoruz ve diğer ayarları bu şekilde değiştiriyoruz. Create action butonuna basıyoruz</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1pNMt2I5e3UAf8mZKxlS6TuFrKEVl1J6y\" alt=\"google asistant ayarlar\" /></p><p><br /></p><h1 id=\"2-adım-proje-i̇çin-ifttt-google-sheets-applet-kurulumu\">2. Adım Proje İçin IFTTT (Google Sheets Applet) Kurulumu</h1><h4 id=\"ifttt-google-sheets-applet-kurulumu-\">IFTTT (Google Sheets Applet) Kurulumu ?</h4><p>Her giren kullanıcı için okuttuğu rfid kartın id’si, giriş yaptığı zaman, adı soyadı ve açılıp açılmadığı bilgilerini göndermek için google tablolarda kayıt tutuyoruz. Google sheet appletlerini eklemek için sırasıyla aşağıdaki adımları izlememiz gerekiyor. Tekrar ana sayfada “create” tuşuna bastıktan ve if kutucuğu içerisindeki “add” butonuna bastıktan sonra servisler içerisinden webhook servisini seçiyoruz.</p><p><strong>event name kısmına logger yazıyorum bu benim yazdığım programın bir gereği siz başka bir şey yazabilirsiniz. create trigger butonuna tıkladıktan sonra then kutucuğunun içerisindeki add butonuna tıklıyoruz ve tekrardan yeni bir servis arıyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1i8Gb5ZHZktLfCakpXfq7BvEFNx8HvWAR\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Google sheets servisini arıyoruz ve seçiyoruz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1jHGeHfhtW_ecD_TgvVwF99dPzqlFIO0C\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Daha sonra add row to spreadsheet seçeneğine tıklıyoruz. Bunu seçmemizin sebebi tabloya her yeni bir bilgi geldiğinde yeni bir satıra ekleniyor.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1CnbDMIM9bwLpFpeo8HDDd8WhYBOnJyEa\" alt=\"google asistant ayarlar\" /></p><p><br /></p><p><strong>Ayarlar aşağıdaki gibi olmalıdır eğer isterseniz tablo adını değiştirebilirsiniz.</strong><img src=\"https://drive.google.com/uc?export=view&amp;id=1zQlM7q6lLmZfqfHNvF38NUgc3yuhNDs1\" alt=\"google asistant ayarlar\" /></p><p><br /></p><h2 id=\"proje-fritzing-şeması\">Proje Fritzing Şeması</h2><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1Fkml9wqiZ7cEA1TqU5v_uhlK3bOEZdzJ\" alt=\"google asistant ayarlar\" /></p><p><br /></p><h2 id=\"proje-kaynak-kodları\">Proje Kaynak Kodları</h2><pre><code class=\"language-c\">#include &lt;SPI.h&gt;    // Rfid modülünün haberleşmesi için SPI kütüphanesi eklendi.#include &lt;MFRC522.h&gt;  // Rfid modülü için MFRC522 kütüphanesi eklendi.#include &lt;WiFiClient.h&gt; #define BLYNK_PRINT Serial#include &lt;ESP8266WiFi.h&gt;#include &lt;BlynkSimpleEsp8266.h&gt;//***** KABLOSUZ AYARLARI ******* char auth[] = \"Blynk auth code\";    //Blynk auth code girilecekconst char* ssid = \"Wifi SSID\";     //Bağlanılacak olan wifi ağı adıconst char* pass = \"Wifi Pass\";     //Bağlanılacak olan wifi ağı şifresi//************* IFTTT ****************const char* server = \"maker.ifttt.com\"; // Kişiye özel IFTTT Url'iconst char* resource = \"Google Sheet appletinden gelen link\";  // Google Sheet appletinde bulunan link//*********** RFID **************#define RST_PIN         D8           #define SS_PIN          D4          #define relay           D3#define button          D8MFRC522 mfrc522(SS_PIN, RST_PIN);   String readCardId = \"\"; // okunan kart idsiString tempid = \"\";     // değişken kart idsi//******** Led Pins and Button Pin *************#define green           D1#define red             D0#define yellow          D2unsigned long lastTime = 0;unsigned long lastTime1 = 0;unsigned long lastTime2 = 0;unsigned long delayTime = 10000; unsigned long delayTime1 = 2500;  unsigned long delayTime2 = 60000;WiFiClient client;//***** ANAHTAR LİSTESİ ***********String Key_list[2][2] =          // Anahtar Listesi  {  {\"örnek kullanıcı adı1\",\"örnek kullanıcı 1 kartid\"},  {\"örnek kullanıcı adı2\",\"örnek kullanıcı 2 kartid\"},    };// Google tablolar ile bağlantı sağlayan fonksiyon void connectGoogleSheets(){  int retries = 8;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }} // IFTTT web servisine bir http isteği gönderir.void makeIFTTTRequest(String name_surname,String kart_id,String durum) {  digitalWrite(red,HIGH);  Serial.print(\"Connecting to \");   Serial.print(server);    int retries = 5;  while(!!!client.connect(server, 80) &amp;&amp; (retries-- &gt; 0)) {    Serial.print(\".\");  }  Serial.println();  if(!!!client.connected()) {    Serial.println(\"Failed to connect...\");  }    Serial.print(\"Request resource: \");   Serial.println(resource);    String jsonObject = String(\"{\\\"value1\\\":\\\"\") + name_surname + \"\\\",\\\"value2\\\":\\\"\" + kart_id                      + \"\\\",\\\"value3\\\":\\\"\" + durum + \"\\\"}\";                                    client.println(String(\"POST \") + resource + \" HTTP/1.1\");  client.println(String(\"Host: \") + server);   client.println(\"Connection: close\\r\\nContent-Type: application/json\");  client.print(\"Content-Length: \");  client.println(jsonObject.length());  client.println();  client.println(jsonObject);          int timeout = 5 * 10; // 5 seconds               while(!!!client.available() &amp;&amp; (timeout-- &gt; 0)){    delay(100);  }  if(!!!client.available()) {    Serial.println(\"No response...\");  }  while(client.available()){    Serial.write(client.read());  }    Serial.println(\"\\nclosing connection\");  client.stop();   digitalWrite(red,LOW);}String getID()  {  digitalWrite(green,HIGH);  delay(200);  readCardId = \"\";  if(!mfrc522.PICC_IsNewCardPresent())    {      return \"\";    }    if(!mfrc522.PICC_ReadCardSerial())    {      return \"\";    }    for(int i = 0; i &lt; mfrc522.uid.size;i++)    {      readCardId += String(mfrc522.uid.uidByte[i],HEX);    }    Serial.println(readCardId);    digitalWrite(green,LOW);    return readCardId;}void openDoor()   // Kapı aç metodu kapı otomatiğini 200 milisaniye açıyor ve kapatıyor.{  digitalWrite(relay,HIGH);  delay(200);  digitalWrite(relay,LOW);}void decision()   //Karar fonksiyonu ile gelen kart id'nin kararı verilir.{    for(int count=0;count&lt;11;count++)    {      if(Key_list[count][1] == tempid)      {        digitalWrite(red,HIGH);        digitalWrite(green,LOW);                Serial.print(Key_list[count][0]);       // Serial.println(\" Adli kisi giris yapti.\");        openDoor();        if(Blynk.connected()) makeIFTTTRequest(Key_list[count][0],Key_list[count][1],\"Açıldı.\");                digitalWrite(red,LOW);        digitalWrite(green,HIGH);        tempid = \"\";        break;      }    }     if(tempid != \"\")      {        if(Blynk.connected()) makeIFTTTRequest(\"Bilinmeyen Kullanici\",tempid,\"Açılmadı.\");        digitalWrite(red,HIGH);        delay(250);        digitalWrite(red,LOW);      }}BLYNK_WRITE(V2) // Blynk Write(v2) ile ikinci sanal pinden okuma alınır.Alınan okuma 1 ise kapı açma izni verilir.{  digitalWrite(green,LOW);  int pinData = param.asInt();   if(pinData == 1){    openDoor();    makeIFTTTRequest(\"Google Asistan\",\"Kartız\",\"Açıldı.\");  }  digitalWrite(green,HIGH);}void setup() {  Serial.begin(9600);  // Seri haberleşmeyi başlatıyoruz.                                           SPI.begin();         // Spi haberleşme başlatıldı.                                         mfrc522.PCD_Init();  // Rfid modül başlatıldı.    // röle,ledler,ve buton için giriş çıkış atandı.  pinMode(relay,OUTPUT);  pinMode(green,OUTPUT);  pinMode(red,OUTPUT);  pinMode(yellow,OUTPUT);  pinMode(button,INPUT);  digitalWrite(relay,LOW);    Blynk.config(auth,\"blynk-cloud.com\", 8080);  }void loop() {  unsigned long nowTime = millis();   unsigned long nowTime1 = millis();  unsigned long nowTime2 = millis();  if (nowTime - lastTime &gt;= delayTime)   {    lastTime = nowTime;        if(WiFi.status() != WL_CONNECTED) // her 10 saniyede bir internet bağlantısı kontrol edilir eğer bağlantı yok ise tekrar bağlanmayı dener.     {      digitalWrite(yellow,LOW);      WiFi.begin(ssid,pass);      Blynk.config(auth,\"blynk-cloud.com\", 8080);    }     else digitalWrite(yellow,HIGH);  }  if(nowTime1 - lastTime1 &gt;= delayTime1) // her 2,5 saniyede bir kapı açma isteği butonuna basılıp basılmadığı kontrol ediliyor.  {    lastTime1 = nowTime1;    if(digitalRead(button) == true){      digitalWrite(red,HIGH);      Blynk.notify(\"Bina içersindeki kapıdan bir kişi kapı açma isteği gönderdi.\");     }    else digitalWrite(red,LOW);  }  if(nowTime2 - lastTime2 &gt;= delayTime2)  // bir dakikada bir google tablolar ile bağlantı sağlanıyor.  {    lastTime2 = nowTime2;    connectGoogleSheets();  }   tempid = getID(); //kart üzerinde okunan kart id tempid değişkenine atılır.  decision();  // karar metodu ile kapının açılıp açılmayacağı kararı verilir.  Blynk.run();}</code></pre><p><br /></p><h2 id=\"sonuç\">Sonuç</h2><div class=\"youtube-wrapper\">    <iframe src=\"https://www.youtube.com/embed/S1oL-IkkozY\" allowfullscreen=\"\"></iframe></div><p><br /></p>",
            "url": "http://localhost:4000/2021/03/27/uzaktan-kontroll%C3%BC-ve-google-asistant-i%CC%87le-kontrol-edilebilen-kap%C4%B1-otomati%C4%9Fi",
            
            
            
            
            
            "date_published": "2021-03-27T14:39:00+03:00",
            "date_modified": "2021-03-27T14:39:00+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2021/03/24/3d-printer-i%CC%87le-iron-man-mk3-helmet-kask-yap%C4%B1m%C4%B1",
            "title": "3D Printer İle Iron Man MK3 Helmet(Kask) Yapımı",
            "summary": null,
            "content_text": "Proje HakkındaHerkese merhabalar, bu blog yazısındaki projede iron man’in açılıp kapanabilen 1:1 oranındaki kaskını 3d printer ile çıkarıp belli işlemlerden geçirerek nasıl yaptığımdan bahsedeceğim.Gerekli Malzemeler  3 Boyutlu Yazıcı (Benim kullandığım 3 boyutlu yazıcı Ender 3 Pro)  Çelik Macun (Nalburlarda rahatlıkla bulabilirsiniz)  Hızlı Yapıştırıcı (Parçaları birbirine birleştirmek için)  80 kum 100 kum zımpara  Filament (kullanılan filamentlerin renklerinin bir önemi yok. Sonuçta boyanacaklar)Projeye Girişİlk olarak parçaları 3d printerdan çıkarmamız gerekiyor. Kaskın tasarımını thingiverse sitesinde aldım sizler de kaskın .stl dosyalarına buradan ulaşabilirsiniz. Bu arada thingiverse sitesi hayatınızı kolaylaştıracak birçok tasarımı bulabileceğiniz ve bu tasarımların kaynak dosyalarını indirip 3 boyutlu yazıcınızda çıkarabileceğiniz bir websitesidir.Sizler de siteye üye olup kendi çizimlerinizi yükleyebilirsiniz.1. Adım Parçaların BasılmasıBütün parçaları olabildiğince risksiz (yazıcının hata yapıp baskının yarıda kalmaması durumları) basmaya çalıştım. Parçaları baskıya vermeden önce tablaya herhangi bir kimyasal sürmeden ancak baskının yüzeye güzel bir şekilde yapışması ve yazıcının baskı sırasında parçayı düşürmemesi için cura dilimleyici programında yapı levhası yapıştırması başlığı altındaki kenar seçeneğini seçtim. Katman yüksekliği olarak ise katman boşluklarına macun atacağım için 0.3 mm katman yüksekliğinde bastım. Bazı parçalarda destek varken bazı parçalarda destek yok zaten bunları fotoğraflarda göreceksiniz.Bütün baskılar için cura ayarları  0.3 mm katman yüksekliği  Destek var (kulaklar hariç)  %25 Dolgu  1 mm duvar kalınlığı            Maske Alt Parçası      Maske Üst Parçası                                          Çene      Üst                                          Sağ Kulak      Sol Kulak                              Arka KısımParçaların Tamamının Bant İle Bir Araya Getirilmiş Hali                        2. Adım Macunlama Ve ZımparalamaBu aşamada macunlama ve zımparalama hakkında biraz edindiğim tecrübelerimden bahsedeceğim.      Macun çekerken macun çektiğiniz baskının detaylarını kaybetmemeye özen gösterin. Ben bu işlemi ilk defa yaptığım için birkaç detayı kaybettim. Baskının detay kısımlarına macun sürmeyin        Macun yaparken benim tecrübe ettiğim ve aslında çok dikkat edilmesi gereken bir diğer önemli konu ise macunu baskı yüzeyine yedirerek sürmeniz ve yüzeye ne az ne çok macun sürmeniz. Eğer fazla macun sürerseniz zımpara işleminin sonunda kol kasınızın geliştiğini fark edeceksiniz. :) Eğer çok az macun sürerseniz zımpara işleminde baskı yüzeyine zarar verdiğinizi gözlemleyeceksiniz.        Zımpara yaparken olabildiğince zımpara yaptığınız yüzeyi durarak izleyin. Çünkü gereğinden fazla yüzeye yaklaşmamanız yüzeyi koruyacaktır. Bu hususta diğer bir önerim ise yüzeye yaklaştıkça daha ince bir zımpara kullanmanız.        Zımparayı bir tahta parçasına sararak zımparalama işlemini yaparsanız daha rahat çalıştığınızı, zımparanın genel formunu koruduğunuzu ve olası zımpara üzerindeki çatlakların oluşmasını önlediğinizi gözlemleyeceksiniz.              Macun çekilmiş hali      Zımpara yapılmış hali                              3. Adım Astar Ve Sprey BoyaBu aşamada astar ve sprey boya hakkında biraz edindiğim tecrübelerimden bahsedeceğim.      Sprey boyayı kullanmadan önce çalkalamanız uzun süre hareketsiz olarak kalmış olan boya şişesinin içerisindeki çökelmiş bileşenleri birbirine  misket aracılığıyla tekrardan karıştıracaktır.        Spreye bastığınız andan itibaren elinizi hareket ettirmelisiniz ve boya değen bölgeye kurumadan tekrar uğramamalısınız. Çünkü gereğinde fazla ıslak boya kuru yüzey üzerinde duramaz ve bir süre sonra akmaya başlar.        Boya yaptığınız ortamın tozlu bir ortam olmadığına dikkat edin ve kesinlikle ev içerisinde boya yapmayın ve boyama esnasında maske takmayı unutmayın. Zira bu kimyasal maddeden çıkan havayı solumanızı istemem.        Sprey boya kullanımı hakkında birkaç ipucu için bu videoyu izleyebilirsiniz.                          Zımpara sonrası oluşan çok minik boşlukları doldurmak için zımparalanmış yüzeyi astar sprey boya ile boyuyorum.                                                4. Adım Hareketli Parçalar, Elektronik Ve YazılımHareketli parçaların tasarımı bana aittir ve bu linkten parçalara ulaşıp 3 boyutlu yazıcınız aracılığıyla çıktı alabilirsiniz.Çalışma PrensibiKaskın içerisinde çene kısmına konumlandırdığımız hall sensöründen okunan değer ile servoların açılıp kapanma kararları veriliyor ve maske açılıp kapanıyor. Elimize basitçe bir mıknatıs alıp hall sensörün bulunduğu konuma yaklaştırdığımızda açıp kapatabiliriz.Bu adım için gerekli malzemeler  2 x Sg90 micro servo  4 x 8 mm m3 civata  2 x 3 mm somun  hareketli parçalar(3d printer ile çıkacak)  Arduino uno (siz isterseniz ardunino nano kullanabilirsiniz.)  On / Off switch  2 x 18650 pil  2’li 18650 pil yatağı  Jumper kablolar  us1881 hall effect sensorProje Fritzing ŞemasıProje Kaynak Kodları#include &lt;Arduino.h&gt;#include &lt;Servo.h&gt;  // servo.h kütüphanesini dahil ediyoruz.Servo servo1;   // Servo sınıfından servo1 ve sevo2 adlı iki servo nesnesi oluşturduk.Servo servo2; int hall_sensor = 8; // Hall sensorü 8. gpio pinine tanımlıyoruz. bool hallstate = 0;  // Mıknatıs durumunu tutan değişkenvoid closeTheHelmet()   // maskeyi kapatan fonksiyon{    for(int i = 140; i&gt;=0; i--)       // kapatırken daha yavaş kapatması için her 1 derece servo hareketinde.    {                                 // 3ms bekleme koyuyoruz.      if(servo1.read() == 0)          // eğer servo konumu 0 ise döngüyü kır.      {        break;      }      servo1.write(i);      servo2.write(i);      delay(3);    }  }void openTheHelmet()    // maskeyi açan fonksiyon{  if(hallstate == 1)  {    servo1.write(140);    servo2.write(140);  }}void setup() {  Serial.begin(9600); // Seri haberleşmeyi başlattık.  servo1.attach(6);   // servo1 ve servo2 nesnesini 6 ve 7. dijital pinlere tanımlıyoruz.  servo2.attach(7);   pinMode(hall_sensor,INPUT_PULLUP); }void loop() {   hallstate = digitalRead(hall_sensor); // hall sensörden okuma yapıyoruz.  if(hallstate == 1)  // Eğer sensör durumu 1 ise   {    Serial.println(\"open\");    openTheHelmet();      // maskeyi aç  }  else if(hallstate == 0)  {    Serial.println(\"close\");    closeTheHelmet();     // maskeyi kapat  }}Sonuç    ",
            "content_html": "<p><img src=\"https://drive.google.com/uc?export=view&amp;id=1ua0I6wyMKHyVWnALowyXIKjxqIK_PqD4\" alt=\"AsenkronServer\" /></p><h1 id=\"proje-hakkında\">Proje Hakkında</h1><p>Herkese merhabalar, bu blog yazısındaki projede iron man’in açılıp kapanabilen 1:1 oranındaki kaskını 3d printer ile çıkarıp belli işlemlerden geçirerek nasıl yaptığımdan bahsedeceğim.</p><h3 id=\"gerekli-malzemeler\">Gerekli Malzemeler</h3><ul>  <li>3 Boyutlu Yazıcı (Benim kullandığım 3 boyutlu yazıcı Ender 3 Pro)</li>  <li>Çelik Macun (Nalburlarda rahatlıkla bulabilirsiniz)</li>  <li>Hızlı Yapıştırıcı (Parçaları birbirine birleştirmek için)</li>  <li>80 kum 100 kum zımpara</li>  <li>Filament (kullanılan filamentlerin renklerinin bir önemi yok. Sonuçta boyanacaklar)</li></ul><h1 id=\"projeye-giriş\">Projeye Giriş</h1><p>İlk olarak parçaları 3d printerdan çıkarmamız gerekiyor. Kaskın tasarımını thingiverse sitesinde aldım sizler de kaskın .stl dosyalarına <a href=\"https://www.thingiverse.com/thing:260152\" target=\"_blank\">buradan</a> ulaşabilirsiniz. Bu arada <a href=\"https://www.thingiverse.com/\" target=\"_blank\">thingiverse</a> sitesi hayatınızı kolaylaştıracak birçok tasarımı bulabileceğiniz ve bu tasarımların kaynak dosyalarını indirip 3 boyutlu yazıcınızda çıkarabileceğiniz bir websitesidir.Sizler de siteye üye olup kendi çizimlerinizi yükleyebilirsiniz.</p><h2 id=\"1-adım-parçaların-basılması\">1. Adım Parçaların Basılması</h2><p>Bütün parçaları olabildiğince risksiz (yazıcının hata yapıp baskının yarıda kalmaması durumları) basmaya çalıştım. Parçaları baskıya vermeden önce tablaya herhangi bir kimyasal sürmeden ancak baskının yüzeye güzel bir şekilde yapışması ve yazıcının baskı sırasında parçayı düşürmemesi için cura dilimleyici programında yapı levhası yapıştırması başlığı altındaki kenar seçeneğini seçtim. Katman yüksekliği olarak ise katman boşluklarına macun atacağım için 0.3 mm katman yüksekliğinde bastım. Bazı parçalarda destek varken bazı parçalarda destek yok zaten bunları fotoğraflarda göreceksiniz.</p><h3 id=\"bütün-baskılar-için-cura-ayarları\">Bütün baskılar için cura ayarları</h3><ul>  <li>0.3 mm katman yüksekliği</li>  <li>Destek var (kulaklar hariç)</li>  <li>%25 Dolgu</li>  <li>1 mm duvar kalınlığı</li></ul><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Maske Alt Parçası</th>      <th style=\"text-align: center\">Maske Üst Parçası</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1v7OnLypmbZ8aGPBzunV6-M_M6DYTuMLI\" alt=\"Maske Alt Parça\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1v4YyMv62ntNMoXzNpmu1FUDQ7X8aN0TL\" alt=\"Maske üst Parça\" /></td>    </tr>  </tbody></table><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Çene</th>      <th style=\"text-align: center\">Üst</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1thCfbY2o0B4e5Q4pG9ypRqGwXAvceaYT\" alt=\"Çene\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1tKi8EJEK51zO-9cZUHjS-4krEiN7t_TO\" alt=\"Üst\" /></td>    </tr>  </tbody></table><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Sağ Kulak</th>      <th style=\"text-align: center\">Sol Kulak</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1tGBSlzJQ1DrYpdntPrw5ZMu6rb-9t4uM\" alt=\"Sağ kısım\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1t01FY-aNl-lOpeXPyUR2RH1ivokjS2Ro\" alt=\"Sol kısım\" /></td>    </tr>  </tbody></table><p><br /></p><h4 id=\"arka-kısım\">Arka Kısım</h4><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1qzwXIbvmB4YoAC4D50IsoQMx0UilSfJJ\" alt=\"Arka kısım\" /></p><h4 id=\"parçaların-tamamının-bant-i̇le-bir-araya-getirilmiş-hali\">Parçaların Tamamının Bant İle Bir Araya Getirilmiş Hali</h4><table>  <tbody>    <tr>      <td><img src=\"https://drive.google.com/uc?export=view&amp;id=1r8bVSy3bfr89_UFGfZZbr1NhuNI6KLGH\" alt=\"Parçaların Tamamının Bant İle Bir Araya Getirilmiş Hali\" /></td>      <td><img src=\"https://drive.google.com/uc?export=view&amp;id=1sdB0Z3GofxLXxiiKNC0OFVaxTniwaGjW\" alt=\"Parçaların Tamamının Bant İle Bir Araya Getirilmiş Hali 2\" /></td>    </tr>  </tbody></table><p><br /></p><h2 id=\"2-adım-macunlama-ve-zımparalama\">2. Adım Macunlama Ve Zımparalama</h2><p>Bu aşamada macunlama ve zımparalama hakkında biraz edindiğim tecrübelerimden bahsedeceğim.</p><ul>  <li>    <p>Macun çekerken macun çektiğiniz baskının detaylarını kaybetmemeye özen gösterin. Ben bu işlemi ilk defa yaptığım için birkaç detayı kaybettim. Baskının detay kısımlarına macun sürmeyin</p>  </li>  <li>    <p>Macun yaparken benim tecrübe ettiğim ve aslında çok dikkat edilmesi gereken bir diğer önemli konu ise macunu baskı yüzeyine yedirerek sürmeniz ve yüzeye ne az ne çok macun sürmeniz. Eğer fazla macun sürerseniz zımpara işleminin sonunda kol kasınızın geliştiğini fark edeceksiniz. :) Eğer çok az macun sürerseniz zımpara işleminde baskı yüzeyine zarar verdiğinizi gözlemleyeceksiniz.</p>  </li>  <li>    <p>Zımpara yaparken olabildiğince zımpara yaptığınız yüzeyi durarak izleyin. Çünkü gereğinden fazla yüzeye yaklaşmamanız yüzeyi koruyacaktır. Bu hususta diğer bir önerim ise yüzeye yaklaştıkça daha ince bir zımpara kullanmanız.</p>  </li>  <li>    <p>Zımparayı bir tahta parçasına sararak zımparalama işlemini yaparsanız daha rahat çalıştığınızı, zımparanın genel formunu koruduğunuzu ve olası zımpara üzerindeki çatlakların oluşmasını önlediğinizi gözlemleyeceksiniz.</p>  </li></ul><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\">Macun çekilmiş hali</th>      <th style=\"text-align: center\">Zımpara yapılmış hali</th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1o5VyOfnAKkUQfi_KYhlcJGQefMP5Xsu5\" alt=\"Macun çekilmiş hali\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1o2MMwn_YYer13MPTajfPhwrW2WylnxxV\" alt=\"Zımpara yapılmış hali\" /></td>    </tr>  </tbody></table><p><br /></p><h2 id=\"3-adım-astar-ve-sprey-boya\">3. Adım Astar Ve Sprey Boya</h2><p>Bu aşamada astar ve sprey boya hakkında biraz edindiğim tecrübelerimden bahsedeceğim.</p><ul>  <li>    <p>Sprey boyayı kullanmadan önce çalkalamanız uzun süre hareketsiz olarak kalmış olan boya şişesinin içerisindeki çökelmiş bileşenleri birbirine  misket aracılığıyla tekrardan karıştıracaktır.</p>  </li>  <li>    <p>Spreye bastığınız andan itibaren elinizi hareket ettirmelisiniz ve boya değen bölgeye kurumadan tekrar uğramamalısınız. Çünkü gereğinde fazla ıslak boya kuru yüzey üzerinde duramaz ve bir süre sonra akmaya başlar.</p>  </li>  <li>    <p>Boya yaptığınız ortamın tozlu bir ortam olmadığına dikkat edin ve kesinlikle ev içerisinde boya yapmayın ve boyama esnasında maske takmayı unutmayın. Zira bu kimyasal maddeden çıkan havayı solumanızı istemem.</p>  </li>  <li>    <p>Sprey boya kullanımı hakkında birkaç ipucu için bu <a href=\"https://www.youtube.com/watch?v=ZDrANAZE-9A\" target=\"_blank\">videoyu</a> izleyebilirsiniz.</p>  </li></ul><p><br /></p><table>  <tbody>    <tr>      <td><img src=\"https://drive.google.com/uc?export=view&amp;id=1vKrjsbgFPamkxSl-jXVlanaT1zkoHLWA\" alt=\"Astarlı Hali 1\" /></td>      <td><img src=\"https://drive.google.com/uc?export=view&amp;id=1msAVv2ybYowdb-zqVZAVhg1Pwu9MPcTd\" alt=\"Astarlı Hali 2\" /></td>    </tr>  </tbody></table><p>Zımpara sonrası oluşan çok minik boşlukları doldurmak için zımparalanmış yüzeyi astar sprey boya ile boyuyorum.</p><p><br /></p><table>  <thead>    <tr>      <th style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1mjiRrAghQ0VamFlu6b1mWiumc3Il3l6D\" alt=\"Boyanmış hali1\" /></th>      <th style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1mjL2mz3MrtD89_ja_nnKZkoFUd0UebLB\" alt=\"Boyanmış hali2\" /></th>    </tr>  </thead>  <tbody>    <tr>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1mghBdJ68QwFT7L1DMRQvb303vRjZ6APu\" alt=\"Boyanmış hali3\" /></td>      <td style=\"text-align: center\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1mZ3TB9-Y0LRhbZH7nFAOzPHq60El1jp3\" alt=\"Boyanmış hali4\" /></td>    </tr>  </tbody></table><p><br /></p><h2 id=\"4-adım-hareketli-parçalar-elektronik-ve-yazılım\">4. Adım Hareketli Parçalar, Elektronik Ve Yazılım</h2><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1verjAwDZai8xZuhf9aeZU77U82luTJaq\" alt=\"Astarlı Hali 1\" /></p><p>Hareketli parçaların tasarımı bana aittir ve <a href=\"https://www.thingiverse.com/thing:4804827\" target=\"_blank\">bu linkten</a> parçalara ulaşıp 3 boyutlu yazıcınız aracılığıyla çıktı alabilirsiniz.</p><h3 id=\"çalışma-prensibi\">Çalışma Prensibi</h3><p>Kaskın içerisinde çene kısmına konumlandırdığımız hall sensöründen okunan değer ile servoların açılıp kapanma kararları veriliyor ve maske açılıp kapanıyor. Elimize basitçe bir mıknatıs alıp hall sensörün bulunduğu konuma yaklaştırdığımızda açıp kapatabiliriz.</p><h3 id=\"bu-adım-için-gerekli-malzemeler\">Bu adım için gerekli malzemeler</h3><ul>  <li>2 x Sg90 micro servo</li>  <li>4 x 8 mm m3 civata</li>  <li>2 x 3 mm somun</li>  <li><a href=\"https://www.thingiverse.com/thing:4804827\" target=\"_blank\">hareketli parçalar(3d printer ile çıkacak)</a></li>  <li>Arduino uno (siz isterseniz ardunino nano kullanabilirsiniz.)</li>  <li>On / Off switch</li>  <li>2 x 18650 pil</li>  <li>2’li 18650 pil yatağı</li>  <li>Jumper kablolar</li>  <li>us1881 hall effect sensor</li></ul><p><br /></p><h3 id=\"proje-fritzing-şeması\">Proje Fritzing Şeması</h3><p><img src=\"https://drive.google.com/uc?export=view&amp;id=1-k46FhwpG0wE4tLIl0vL-rqNC-Bto_lt\" alt=\"Fritzing şeması\" /></p><p><br /></p><h3 id=\"proje-kaynak-kodları\">Proje Kaynak Kodları</h3><pre><code class=\"language-c\">#include &lt;Arduino.h&gt;#include &lt;Servo.h&gt;  // servo.h kütüphanesini dahil ediyoruz.Servo servo1;   // Servo sınıfından servo1 ve sevo2 adlı iki servo nesnesi oluşturduk.Servo servo2; int hall_sensor = 8; // Hall sensorü 8. gpio pinine tanımlıyoruz. bool hallstate = 0;  // Mıknatıs durumunu tutan değişkenvoid closeTheHelmet()   // maskeyi kapatan fonksiyon{    for(int i = 140; i&gt;=0; i--)       // kapatırken daha yavaş kapatması için her 1 derece servo hareketinde.    {                                 // 3ms bekleme koyuyoruz.      if(servo1.read() == 0)          // eğer servo konumu 0 ise döngüyü kır.      {        break;      }      servo1.write(i);      servo2.write(i);      delay(3);    }  }void openTheHelmet()    // maskeyi açan fonksiyon{  if(hallstate == 1)  {    servo1.write(140);    servo2.write(140);  }}void setup() {  Serial.begin(9600); // Seri haberleşmeyi başlattık.  servo1.attach(6);   // servo1 ve servo2 nesnesini 6 ve 7. dijital pinlere tanımlıyoruz.  servo2.attach(7);   pinMode(hall_sensor,INPUT_PULLUP); }void loop() {   hallstate = digitalRead(hall_sensor); // hall sensörden okuma yapıyoruz.  if(hallstate == 1)  // Eğer sensör durumu 1 ise   {    Serial.println(\"open\");    openTheHelmet();      // maskeyi aç  }  else if(hallstate == 0)  {    Serial.println(\"close\");    closeTheHelmet();     // maskeyi kapat  }}</code></pre><p><br /></p><h2 id=\"sonuç\">Sonuç</h2><div class=\"youtube-wrapper\">    <iframe src=\"https://www.youtube.com/embed/oex3lFJXdb8\" allowfullscreen=\"\"></iframe></div><p><br /></p>",
            "url": "http://localhost:4000/2021/03/24/3d-printer-i%CC%87le-iron-man-mk3-helmet-kask-yap%C4%B1m%C4%B1",
            
            
            
            "tags": ["Iron Man Helmet","3d printer ile iron man kaskı yapımı","DIY Project","motorized helmet","Hareketli Iron Man Kaskı","Iron Man Kask","3D printer","Iron Man Motorized Helmet"],
            
            "date_published": "2021-03-24T14:39:00+03:00",
            "date_modified": "2021-03-24T14:39:00+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2020/06/07/esp32-i%CC%87le-asenkron-olarak-%C3%A7al%C4%B1%C5%9Fan-web-server-projesi",
            "title": "Esp32 İle Asenkron Olarak Çalışan Web Server Projesi",
            "summary": null,
            "content_text": "Esp32 Kartının KurulumuBilgisayarınızda halihazırda kurulu bir Arduino IDE’si olduğunu varsayıyorum. Ancak projede kullanacağımız ESP32, IDE’nin standart kurulumunda gelmiyor o yüzden bazı ek işlemler yapmamız gerekecek.Arduino IDE’sini açıpDosya&gt;Tercihler menüsünden Ek Devre Kartları Yöneticisi URL’leri kısmına aşağıdaki adresi ekleyelim:https://dl.espressif.com/dl/package_esp32_index.jsonDaha sonra Araçlar&gt;Kart&gt;Kart Yöneticisi kısmından Esp32 kartını bulup kuralım.Projeye GirişProjeye başlamadan önce senkron, asenkron gibi kavramları websocket’in ne olduğundan bahsetmek istiyorum.  Senkron Nedir ?Kelime anlamı eşzamanlı olan senkron kelimesi yazılımda birtakım işlemlerin sıra ile yapılmasıdır.Basit bir analoji yapmak gerekirse bir fatura ödeme merkezindesiniz ve faturanızı ödemek için kuyruğa girdiniz. Sizin önünüzde fatura ödemek isteyen kişilerin faturaları ödenmeden sizin faturanız ödenmez. İşte bu şekilde işlemleri sıralı bir şekilde yapılmasına senkron programlama denir.   Asenkron Nedir ?  Kelime anlamı “Aynı zamanda veya birlikte meydana gelmeyen” olan asenkron kelimesi yazılımda yürütülen işlemlerin uzun sürmesinden dolayı yürütülmesi gereken diğer işlemlerin beklemeden çalışmasına devam edebilmesini sağlar. Senkronu açıklarken yaptığım gibi basit bir analoji yapmam gerekirse mutfakta iki çeşit yemek pişiriyorsunuz ve birini yapmaya başladınız. Elinizdeki yemek kaynarken diğer yemeğe başlamak için elinizdeki yemeğin bitmesini beklemezsiniz. İşte bu duruma asenkron programlama denir.   Websocket Nedir ?  WebSocket, tek bir TCP bağlantısı üzerinden tam çift yönlü iletişim kanalı sağlayan bir bilgisayar iletişim protokolüdür. WebSocket protokolü, sunucuya ve sunucudan gerçek zamanlı veri aktarımını sağlayarak, tarayıcı ile web sunucusu arasında etkileşimi sağlamaktadır. Bu, sunucunun istemci istemeden tarayıcıya içerik gönderebileceği ve bağlantıyı açık tutarak istediği zaman mesaj alabilmesini veya gönderebilmesini sağlayan standart bir yöntem ile sağlanmaktadır.Bizim bu projemizde ise web sayfası yenilenmeden kart üzerindeki ledi açıp kapatabilmemizi sağlanıyor. Neden Websocket ? Yeni bir istek HTTP protokolündeki kuralların tekrar edilmesine ve fazla trafik kullanımına neden olur.Trafik kullanımı ve HTTP protokolüyle gerçek zamanlı uygulamaların yönetilmesi maliyetli ve zor olduğundan dolayı websocket kullanılır.Proje içerisinde kullanacağımız kütüphaneler Esp32 kartımızın ağa bağlanmasını ve üzerinde bir web sayfasını asenkron çalıştırmasını sağlayacak.#include &lt;WiFi.h&gt;  #include &lt;AsyncTCP.h&gt;  #include &lt;ESPAsyncWebServer.h&gt;Proje içerisinde kullanılan kütüphanelerin linkleri:   AsyncTCP.h   ESPAsyncWebServer.h   Wifi.h kütüphanesi Arduino IDE’si içerisinde halihazırda mevcut. const char* ssid = &quot;Ag Adi&quot;;    const char* password = &quot;Ag Parolasi&quot;;    const int led = 2;Ssid ve password kısmına bulunduğunuz ortamdaki ağın adını ve parolasını giriniz. Esp32 üzerindeki led  GPIO2 pinine bağlı olduğu için led isminde değişkeni bu pine atadık.const char index_html[] PROGMEM =Progmem anahtar sözcüğü normalde Esp32’nin Sram’ine kaydetmesi gerekirken Flash hafızasına kaydetmesini sağlar. Esp32’nin Flash hafızası 4MB’dır.void notFound(AsyncWebServerRequest *request) {    request-&gt;send(404, &quot;text/plain&quot;, &quot;Sayfa Bulunamdadi&quot;);}NotFound fonksiyonu sayfa bulunamadığında 404 hata kodunu ve sayfa bulunamadı mesajını gönderecek.AsyncWebServer server(80);AsyncWebServer sınıfından server adlı bir nesne oluşturduk ve parametre olarak 80 verdik. Girilen parametre portu temsil ediyor.Serial.begin(115200);  WiFi.mode(WIFI_STA);  WiFi.begin(ssid, password);  if (WiFi.waitForConnectResult() != WL_CONNECTED) {    Serial.println(&quot;Wifi agina Baglanmadi!&quot;);    return;  }  Serial.println();  Serial.print(&quot;ESP IP Address: http://&quot;);  Serial.println(WiFi.localIP());Bu kod bloğunda sırasıyla;  Seri haberleşmeyi başlattık ve baudrate hızını 115200 olarak ayarladık.  Wifi modunu STA olarak ayarladık. STA İstasyon modudur. Esp32’yi erişim noktası tarafından kurulan bir WiFi ağına bağlamak için kullanılır.  Begin metodu ile parametresi girilen wifi ağına bağlanır.  İf bloğu wifi ağına bağlanıp bağlanmadığını kontrol ediyor. Ağa bağlanmadıysa seri monitöre “Wifi agina Baglanmadi!” yazdırır. Eğer bağlandıysa esp32’nin sunmuş olduğu web sayfasının linkini seri monitöre yazdırır.pinMode(led, OUTPUT);  digitalWrite(led, LOW);Led adlı değişkenin bulunduğu pine(GPIO2) çıkış verdik ve başlangıçtaki durumunu kapalı olarak belirledik.server.on(&quot;/&quot;, HTTP_GET, [](AsyncWebServerRequest *request){    request-&gt;send_P(200, &quot;text/html&quot;, index_html);  });Gelen isteğe karşılık web sayfasını istemciye gönderir.server.on(&quot;/ac&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, HIGH);    request-&gt;send(200, &quot;text/plain&quot;, &quot;ac sinyali gonderildi.&quot;);  });Gelen “/ac” isteğine karşılık ledi açık konuma getirir ve istemciye “ac sinyali gonderildi.” mesajını iletir.server.on(&quot;/kapat&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, LOW);    request-&gt;send(200, &quot;text/plain&quot;, &quot;kapat sinyali gönderildi.&quot;);  });Gelen “/kapat” isteğine karşılık ledi kapalı konuma getirir ve istemciye “kapat sinyali gonderildi.” mesajını iletir.server.onNotFound(notFound);server.begin();Bu kod bloğunda sırasıyla:  Eğer sayfa bulunamadıysa onNotFound metodu çalıştırılacak.  begin metodu web serverı başlatır.#include &lt;WiFi.h&gt;#include &lt;AsyncTCP.h&gt;#include &lt;ESPAsyncWebServer.h&gt;const char* ssid = &quot;Ag Adi&quot;;const char* password = &quot;Ag Parolasi&quot;;const int led = 2;const char index_html[] PROGMEM = R&quot;rawliteral(&lt;!DOCTYPE Html&gt;&lt;head&gt;    &lt;meta charset=&quot;utf-8&quot;&gt;    &lt;title&gt; Web Sayfasi &lt;/title&gt;    &lt;style&gt;        body {            margin: 0;            text-align: center;        }                button {            width: 200px;            height: 100px;            border-radius: 3px;        }    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;h2&gt;Esp32 İle Asenkron Web Server&lt;/h2&gt;    &lt;br&gt;    &lt;button style=&quot;background-color: #77d772;&quot; id=&quot;ac&quot; onclick=&quot;myfunction(&#39;ac&#39;)&quot;&gt;&lt;b&gt;Aç&lt;/b&gt;&lt;/button&gt;    &lt;button style=&quot;background-color: red;&quot; id=&quot;kapat&quot; onclick=&quot;myfunction(&#39;kapat&#39;)&quot;&gt;&lt;b&gt;Kapat&lt;/b&gt;&lt;/button&gt;    &lt;h4&gt;Led Durum:        &lt;h4 id=&quot;leddurum&quot;&gt;Led Kapalı&lt;/h4&gt;    &lt;/h4&gt;    &lt;script&gt;        function myfunction(value) {            var xhr = new XMLHttpRequest();            if (value == &#39;ac&#39;) {                document.getElementById(&quot;leddurum&quot;).innerHTML = &quot;Led Açık&quot;;                xhr.open(&quot;GET&quot;, &quot;/ac&quot;, true);                xhr.send();            } else {                document.getElementById(&quot;leddurum&quot;).innerHTML = &quot;Led Kapalı&quot;;                xhr.open(&quot;GET&quot;, &quot;/kapat&quot;, true);                xhr.send();            }        }    &lt;/script&gt;&lt;/body&gt;&lt;/Html&gt;)rawliteral&quot;;void notFound(AsyncWebServerRequest *request) {  request-&gt;send(404, &quot;text/plain&quot;, &quot;Sayfa Bulunamdadi&quot;);}AsyncWebServer server(80);void setup() {  Serial.begin(115200);  WiFi.mode(WIFI_STA);  WiFi.begin(ssid, password);  if (WiFi.waitForConnectResult() != WL_CONNECTED) {    Serial.println(&quot;Wifi agina Baglanmadi!&quot;);    return;  }  Serial.println();  Serial.print(&quot;ESP IP Address: http://&quot;);  Serial.println(WiFi.localIP());    pinMode(led, OUTPUT);  digitalWrite(led, LOW);    server.on(&quot;/&quot;, HTTP_GET, [](AsyncWebServerRequest *request){    request-&gt;send_P(200, &quot;text/html&quot;, index_html);  });    server.on(&quot;/ac&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, HIGH);    request-&gt;send(200, &quot;text/plain&quot;, &quot;ac sinyali gonderildi.&quot;);  });    server.on(&quot;/kapat&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, LOW);    request-&gt;send(200, &quot;text/plain&quot;, &quot;kapat sinyali gönderildi.&quot;);  });    server.onNotFound(notFound);  server.begin();}void loop() { }",
            "content_html": "<p><img src=\"https://drive.google.com/uc?export=view&amp;id=1RBA39QFpLErzHYOGzV23YcPVw0rxgIsN\" alt=\"AsenkronServer\" /></p><h2 id=\"esp32-kartının-kurulumu\">Esp32 Kartının Kurulumu</h2><p>Bilgisayarınızda halihazırda kurulu bir Arduino IDE’si olduğunu varsayıyorum. Ancak projede kullanacağımız ESP32, IDE’nin standart kurulumunda gelmiyor o yüzden bazı ek işlemler yapmamız gerekecek.</p><p>Arduino IDE’sini açıp<b>Dosya&gt;Tercihler</b> menüsünden <b>Ek Devre Kartları Yöneticisi URL’leri</b> kısmına aşağıdaki adresi ekleyelim:<b>https://dl.espressif.com/dl/package_esp32_index.json</b></p><p>Daha sonra <b>Araçlar&gt;Kart&gt;Kart Yöneticisi</b> kısmından Esp32 kartını bulup kuralım.</p><p><img src=\"https://drive.google.com/uc?id=1_UJ_4ufjx3jU0qw4xVHieJplmRmiBgTe\" alt=\"Kart Yöneticisi Penceresi\" /></p><p><br /></p><h2 id=\"projeye-giriş\">Projeye Giriş</h2><p><img src=\"https://drive.google.com/uc?id=1UtJH7mTVt5Axql39misBsLFdw_CotiET\" alt=\"Asenkron Server\" /></p><p>Projeye başlamadan önce senkron, asenkron gibi kavramları websocket’in ne olduğundan bahsetmek istiyorum.</p><blockquote>  <p><span style=\"background-color:#c0c0c0; padding:5px;border-radius:5px\">Senkron Nedir ?</span><br />Kelime anlamı <strong>eşzamanlı</strong> olan senkron kelimesi yazılımda birtakım işlemlerin sıra ile yapılmasıdır.Basit bir analoji yapmak gerekirse bir fatura ödeme merkezindesiniz ve faturanızı ödemek için kuyruğa girdiniz. Sizin önünüzde fatura ödemek isteyen kişilerin faturaları ödenmeden sizin faturanız ödenmez. İşte bu şekilde işlemleri sıralı bir şekilde yapılmasına senkron programlama denir.</p></blockquote><blockquote>  <p><span style=\"background-color:#c0c0c0; padding:5px;border-radius:5px\"> Asenkron Nedir ? </span> <br />Kelime anlamı “Aynı zamanda veya birlikte meydana gelmeyen” olan asenkron kelimesi yazılımda yürütülen işlemlerin uzun sürmesinden dolayı yürütülmesi gereken diğer işlemlerin beklemeden çalışmasına devam edebilmesini sağlar. Senkronu açıklarken yaptığım gibi basit bir analoji yapmam gerekirse mutfakta iki çeşit yemek pişiriyorsunuz ve birini yapmaya başladınız. Elinizdeki yemek kaynarken diğer yemeğe başlamak için elinizdeki yemeğin bitmesini beklemezsiniz. İşte bu duruma asenkron programlama denir.</p></blockquote><blockquote>  <p><span style=\"background-color:#c0c0c0; padding:5px;border-radius:5px\"> Websocket Nedir ? </span> <br />WebSocket, tek bir TCP bağlantısı üzerinden tam çift yönlü iletişim kanalı sağlayan bir bilgisayar iletişim protokolüdür. WebSocket protokolü, sunucuya ve sunucudan gerçek zamanlı veri aktarımını sağlayarak, tarayıcı ile web sunucusu arasında etkileşimi sağlamaktadır. Bu, sunucunun istemci istemeden tarayıcıya içerik gönderebileceği ve bağlantıyı açık tutarak istediği zaman mesaj alabilmesini veya gönderebilmesini sağlayan standart bir yöntem ile sağlanmaktadır.Bizim bu projemizde ise web sayfası yenilenmeden kart üzerindeki ledi açıp kapatabilmemizi sağlanıyor.<br /><span style=\"background-color:#c0c0c0; padding:5px;border-radius:5px\"> Neden Websocket ? </span><br />Yeni bir istek HTTP protokolündeki kuralların tekrar edilmesine ve fazla trafik kullanımına neden olur.Trafik kullanımı ve HTTP protokolüyle gerçek zamanlı uygulamaların yönetilmesi maliyetli ve zor olduğundan dolayı websocket kullanılır.</p></blockquote><p><br /></p><p>Proje içerisinde kullanacağımız kütüphaneler Esp32 kartımızın ağa bağlanmasını ve üzerinde bir web sayfasını asenkron çalıştırmasını sağlayacak.</p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">#include &lt;WiFi.h&gt;  #include &lt;AsyncTCP.h&gt;  #include &lt;ESPAsyncWebServer.h&gt;</code></pre></figure><p>Proje içerisinde kullanılan kütüphanelerin linkleri:</p><ul>  <li><span style=\"font-size:18px\"> <a href=\"https://github.com/me-no-dev/AsyncTCP\">AsyncTCP.h</a></span></li>  <li><span style=\"font-size:18px\"> <a href=\"https://github.com/me-no-dev/ESPAsyncWebServer/\">ESPAsyncWebServer.h</a></span></li>  <li><span style=\"font-size:18px\"> Wifi.h kütüphanesi Arduino IDE’si içerisinde halihazırda mevcut. </span></li></ul><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">const char* ssid = &quot;Ag Adi&quot;;    const char* password = &quot;Ag Parolasi&quot;;    const int led = 2;</code></pre></figure><p>Ssid ve password kısmına bulunduğunuz ortamdaki ağın adını ve parolasını giriniz. Esp32 üzerindeki led  GPIO2 pinine bağlı olduğu için led isminde değişkeni bu pine atadık.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">const char index_html[] PROGMEM =</code></pre></figure><p>Progmem anahtar sözcüğü normalde Esp32’nin Sram’ine kaydetmesi gerekirken Flash hafızasına kaydetmesini sağlar. Esp32’nin Flash hafızası 4MB’dır.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">void notFound(AsyncWebServerRequest *request) {    request-&gt;send(404, &quot;text/plain&quot;, &quot;Sayfa Bulunamdadi&quot;);}</code></pre></figure><p>NotFound fonksiyonu sayfa bulunamadığında 404 hata kodunu ve sayfa bulunamadı mesajını gönderecek.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">AsyncWebServer server(80);</code></pre></figure><p>AsyncWebServer sınıfından server adlı bir nesne oluşturduk ve parametre olarak 80 verdik. Girilen parametre portu temsil ediyor.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">Serial.begin(115200);  WiFi.mode(WIFI_STA);  WiFi.begin(ssid, password);  if (WiFi.waitForConnectResult() != WL_CONNECTED) {    Serial.println(&quot;Wifi agina Baglanmadi!&quot;);    return;  }  Serial.println();  Serial.print(&quot;ESP IP Address: http://&quot;);  Serial.println(WiFi.localIP());</code></pre></figure><p>Bu kod bloğunda sırasıyla;</p><ul>  <li><span style=\"font-size:18px\">Seri haberleşmeyi başlattık ve baudrate hızını 115200 olarak ayarladık.</span></li>  <li><span style=\"font-size:18px\">Wifi modunu STA olarak ayarladık. STA İstasyon modudur. Esp32’yi erişim noktası tarafından kurulan bir WiFi ağına bağlamak için kullanılır.</span></li>  <li><span style=\"font-size:18px\">Begin metodu ile parametresi girilen wifi ağına bağlanır.</span></li>  <li><span style=\"font-size:18px\">İf bloğu wifi ağına bağlanıp bağlanmadığını kontrol ediyor. Ağa bağlanmadıysa seri monitöre “Wifi agina Baglanmadi!” yazdırır. Eğer bağlandıysa esp32’nin sunmuş olduğu web sayfasının linkini seri monitöre yazdırır.</span></li></ul><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">pinMode(led, OUTPUT);  digitalWrite(led, LOW);</code></pre></figure><p>Led adlı değişkenin bulunduğu pine(GPIO2) çıkış verdik ve başlangıçtaki durumunu kapalı olarak belirledik.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">server.on(&quot;/&quot;, HTTP_GET, [](AsyncWebServerRequest *request){    request-&gt;send_P(200, &quot;text/html&quot;, index_html);  });</code></pre></figure><p>Gelen isteğe karşılık web sayfasını istemciye gönderir.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">server.on(&quot;/ac&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, HIGH);    request-&gt;send(200, &quot;text/plain&quot;, &quot;ac sinyali gonderildi.&quot;);  });</code></pre></figure><p>Gelen “/ac” isteğine karşılık ledi açık konuma getirir ve istemciye “ac sinyali gonderildi.” mesajını iletir.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">server.on(&quot;/kapat&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, LOW);    request-&gt;send(200, &quot;text/plain&quot;, &quot;kapat sinyali gönderildi.&quot;);  });</code></pre></figure><p>Gelen “/kapat” isteğine karşılık ledi kapalı konuma getirir ve istemciye “kapat sinyali gonderildi.” mesajını iletir.</p><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">server.onNotFound(notFound);server.begin();</code></pre></figure><p>Bu kod bloğunda sırasıyla:</p><ul>  <li><span style=\"font-size:18px\">Eğer sayfa bulunamadıysa onNotFound metodu çalıştırılacak.</span></li>  <li><span style=\"font-size:18px\">begin metodu web serverı başlatır.</span></li></ul><p><br /></p><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">#include &lt;WiFi.h&gt;#include &lt;AsyncTCP.h&gt;#include &lt;ESPAsyncWebServer.h&gt;const char* ssid = &quot;Ag Adi&quot;;const char* password = &quot;Ag Parolasi&quot;;const int led = 2;const char index_html[] PROGMEM = R&quot;rawliteral(&lt;!DOCTYPE Html&gt;&lt;head&gt;    &lt;meta charset=&quot;utf-8&quot;&gt;    &lt;title&gt; Web Sayfasi &lt;/title&gt;    &lt;style&gt;        body {            margin: 0;            text-align: center;        }                button {            width: 200px;            height: 100px;            border-radius: 3px;        }    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;h2&gt;Esp32 İle Asenkron Web Server&lt;/h2&gt;    &lt;br&gt;    &lt;button style=&quot;background-color: #77d772;&quot; id=&quot;ac&quot; onclick=&quot;myfunction(&#39;ac&#39;)&quot;&gt;&lt;b&gt;Aç&lt;/b&gt;&lt;/button&gt;    &lt;button style=&quot;background-color: red;&quot; id=&quot;kapat&quot; onclick=&quot;myfunction(&#39;kapat&#39;)&quot;&gt;&lt;b&gt;Kapat&lt;/b&gt;&lt;/button&gt;    &lt;h4&gt;Led Durum:        &lt;h4 id=&quot;leddurum&quot;&gt;Led Kapalı&lt;/h4&gt;    &lt;/h4&gt;    &lt;script&gt;        function myfunction(value) {            var xhr = new XMLHttpRequest();            if (value == &#39;ac&#39;) {                document.getElementById(&quot;leddurum&quot;).innerHTML = &quot;Led Açık&quot;;                xhr.open(&quot;GET&quot;, &quot;/ac&quot;, true);                xhr.send();            } else {                document.getElementById(&quot;leddurum&quot;).innerHTML = &quot;Led Kapalı&quot;;                xhr.open(&quot;GET&quot;, &quot;/kapat&quot;, true);                xhr.send();            }        }    &lt;/script&gt;&lt;/body&gt;&lt;/Html&gt;)rawliteral&quot;;void notFound(AsyncWebServerRequest *request) {  request-&gt;send(404, &quot;text/plain&quot;, &quot;Sayfa Bulunamdadi&quot;);}AsyncWebServer server(80);void setup() {  Serial.begin(115200);  WiFi.mode(WIFI_STA);  WiFi.begin(ssid, password);  if (WiFi.waitForConnectResult() != WL_CONNECTED) {    Serial.println(&quot;Wifi agina Baglanmadi!&quot;);    return;  }  Serial.println();  Serial.print(&quot;ESP IP Address: http://&quot;);  Serial.println(WiFi.localIP());    pinMode(led, OUTPUT);  digitalWrite(led, LOW);    server.on(&quot;/&quot;, HTTP_GET, [](AsyncWebServerRequest *request){    request-&gt;send_P(200, &quot;text/html&quot;, index_html);  });    server.on(&quot;/ac&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, HIGH);    request-&gt;send(200, &quot;text/plain&quot;, &quot;ac sinyali gonderildi.&quot;);  });    server.on(&quot;/kapat&quot;, HTTP_GET, [] (AsyncWebServerRequest *request) {    digitalWrite(output, LOW);    request-&gt;send(200, &quot;text/plain&quot;, &quot;kapat sinyali gönderildi.&quot;);  });    server.onNotFound(notFound);  server.begin();}void loop() { }</code></pre></figure>",
            "url": "http://localhost:4000/2020/06/07/esp32-i%CC%87le-asenkron-olarak-%C3%A7al%C4%B1%C5%9Fan-web-server-projesi",
            
            
            
            "tags": ["Esp32","Asenkron","Web Server"],
            
            "date_published": "2020-06-07T19:15:00+03:00",
            "date_modified": "2020-06-07T19:15:00+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2020/05/19/nodemcu-esp8266-ve-nokia-5110-i%CC%87le-covid19-m%C3%B6nit%C3%B6r%C3%BC-yap%C4%B1m%C4%B1",
            "title": "NodeMCU Ve Nokia 5110 Ekranı İle Covid-19 Monitörü Projesi",
            "summary": null,
            "content_text": "Bu projede 1.6” Nokia 5110 ekranı ile nodeMCU kartını kullanarak anlık ülkemizdeki corona virüs istatiklerini gösterebileceğimiz bir monitör yaptım. Anlık olarak ekran üzerinde; toplam vaka sayısı, vefat eden kişi ve iyileşen hasta sayılarını vermektedir.  Projeye başlamadan önce proje içerisinde veri transferi yapmamıza yarayacak ThingSpeak sitesinden biraz bahsetmek istiyorum. ThingSpeak ücretsiz olarak hem arduino sensörleri ile okuduğunuz değerleri yazmaya, hem de yazdığınız değerleri telefonunuzda, bilgisayarınızda veya diğer akıllı cihazlarınızda anlık görebilmenize ve okuyabilmenize imkan tanıyan bir platform. API için kanal oluşturuyorsunuz ve sadece sizin bildiğiniz şifreler ile (API key) verilerinizi grafik üzerinde takip edebiliyorsunuz.Sadece veri gönderip okumaktan farklı olarak internetteki bir veriyi API ile IOT cihazlarınıza gönderebilirsiniz. Bizim bu projede yaptığımız da tam olarak bu.Malzeme Listesi  NodeMCU(ESP8266) Kartı  Nokia 5110 ekranıCOVID-19 Verilerini Çekme  Worldometer sitesinden COVID-19 verisini çekeceğimiz ülkenin sayfasına gitmemiz gerekiyor. Bunun için Worldometer sitesine gidiyoruz.  Siteye girdikten sonra sitenin alt kısmında bulunan tabloda verisini çekmek istediğimiz ülkenin linkine tıklyoruz.  Karşımıza gelen sayfada klavyenizden “F12” tuşuna basarak veya mouse’nuzla sağ tık atıp inceleye basarak sayfa kaynağının görüntülendiği ekranı açıyoruz.  Bu kısımda mavi alan içerisinde gösterilen kısma geliyoruz ve mouse ile sağ tık atıp /Copy/Copy XPath seçeneğine tıklıyoruz. Bu kopyalanan veriyi ThinkSpeak ekranında kullanacağız.ThingSpeak Ayarları  Projenin başında bahsettiğim gibi projemizde veri transferini sağlayacak olan ThingSpeak sitesine kayıt olmamız gerekiyor. Eğer kayıt olduysanız site anasayfasında üstte bulunan Apps butonuna gelin ve altta çıkan seçeneklerden ThingHTTP’ye tıklayın.  ThingHTTP’ye tıkladıktan sonra karşımıza çıkan sayfada NewThingHTTP butonuna basıyoruz.  Karşımıza gelen ekranda Name yazan kısma istediğinizi yazabilirsiniz. Ben Türkiye’deki COVID-19 verilerini çekmek istediğim için “Turkey” yazdım. Parse String kısmına kopyaladığımız XPath’i yapıştırıyoruz ve “Save ThingHTTP” butonuna basıyoruz.  Kırmızı dikdörtgen ile işaretlenmiş alan içerisindeki API’yı kopyalıyoruz.  Kopyaladığımız API’yı yukarıdaki fotoğraftaki kırmızı alan içerisindeki api_key kısmına yapıştırıyoruz. Bu arada ağ adı ve ağ parolası yazan kısma bulunduğunuz ortamdaki wifi ağının adını ve parolasını girmeyi unutmayınız.Proje Kaynak Kodu#include &lt;graphicsLCD.h&gt;#include &lt;ESP8266WiFi.h&gt;                                                  #include &lt;ESP8266HTTPClient.h&gt;                                                                       const char* ssid = &quot;AğAdı&quot;;                                        const char* password =  &quot;AğParolası&quot;; const char* host = &quot;api.thingspeak.com&quot;;                                     const int httpPortRead = 80;                                           #define lcd_RST_pin D8#define lcd_CS_pin D7#define lcd_DIN_pin D5#define lcd_CLK_pin D4graphicsLCD lcd(lcd_RST_pin,lcd_CS_pin,lcd_DIN_pin,lcd_CLK_pin);const char* url1 = &quot;/apps/thinghttp/send_request?api_key=Api key yapıştıracağınız kısım&quot;; String toplam_vaka,vefat_eden,iyilesen,Data_Raw,Data_Raw_1,Data_Raw_2,Data_Raw_3;  int indx;WiFiClient client;                                                        HTTPClient http; String _parse(String value){  String kelime ;  for(int i=0; i &lt; value.length();i++)  {    if(value.substring(i,i+1) != &quot;,&quot;)      kelime += value.substring(i,i+1);    }  return kelime;}void setup() {  Serial.begin(9600);  lcd.begin();    lcd.clear();                                                           WiFi.disconnect();                                                  delay(1000);                                                             WiFi.begin(ssid, password);                                                 Serial.println(&quot;Wifi agina baglandı.&quot;);                                         Serial.println(WiFi.localIP());}   void loop()                                                                      {    if( http.begin(host,httpPortRead,url1))                                                    {        int httpCode = http.GET();                                                                          if (httpCode &gt; 0)                                                                      {          if (httpCode == HTTP_CODE_OK || httpCode == HTTP_CODE_MOVED_PERMANENTLY)             {                 lcd.line(1);              lcd.column(36);              lcd.print(&quot;Turkey&quot;);              Data_Raw = http.getString();                              Data_Raw_1 = Data_Raw;                                                indx = Data_Raw_1.indexOf(&quot;&gt;&quot;);                                                                    Data_Raw_1.remove(0,indx+1);                                      indx = Data_Raw_1.indexOf(&quot;&lt;&quot;);                                                                   Data_Raw_1.remove(indx,Data_Raw_1.length());                                      toplam_vaka=Data_Raw_1;              toplam_vaka = _parse(toplam_vaka);               lcd.line(4);              lcd.print(&quot;Toplam vaka: &quot;);              lcd.print(toplam_vaka.toInt());               lcd.print(&quot;k&quot;);              Data_Raw_2=Data_Raw;              indx = Data_Raw_2.indexOf(&quot;&lt;span&gt;&quot;);              Data_Raw_2.remove(0,indx+6);              Data_Raw_3=Data_Raw_2;              indx = Data_Raw_2.indexOf(&quot;&lt;/span&gt;&quot;);              Data_Raw_2.remove(indx,Data_Raw_2.length());              vefat_eden=Data_Raw_2;              vefat_eden = _parse(vefat_eden);              lcd.line(5);              lcd.print(&quot;Vefat eden: &quot;);              lcd.print(vefat_eden.toInt());                  indx = Data_Raw_3.indexOf(&quot;&lt;span&gt;&quot;);              Data_Raw_3.remove(0,indx+6);              indx = Data_Raw_3.indexOf(&quot;&lt;&quot;);              Data_Raw_3.remove(indx,Data_Raw_3.length());                            iyilesen=Data_Raw_3;              iyilesen = _parse(iyilesen);              lcd.line(6);              lcd.print(&quot;Iyilesen: &quot;);              lcd.print(iyilesen.toInt());                                                                                       }        }        else         {          Serial.printf(&quot;[HTTP] istegi alinamadi, Hata: %s\\n&quot;, http.errorToString(httpCode).c_str());        }        http.end();                                                                       }       else       {        Serial.printf(&quot;[HTTP} baglanılamıyor.\\n&quot;);      }    delay(5000);    while (WiFi.status() != WL_CONNECTED)                                            {         WiFi.disconnect();                                                                delay(1000);                                                                     WiFi.begin(ssid, password);                                                      Serial.println(&quot;Wifi agına tekrar baglaniyor.&quot;);               delay(10000);                                                                   }} String prs(String value){  for(int i=0; value.length();i++)  {    Serial.println(value.substring(i,i));  }}Fritzing ŞemasıSonuç",
            "content_html": "<p><img src=\"https://drive.google.com/uc?id=1ws7zkULNMkbVfTmeUVNx6AGVo1Wct5z7\" alt=\"Tittle-Photo\" /></p><p>Bu projede 1.6” Nokia 5110 ekranı ile nodeMCU kartını kullanarak anlık ülkemizdeki corona virüs istatiklerini gösterebileceğimiz bir monitör yaptım. Anlık olarak ekran üzerinde; toplam vaka sayısı, vefat eden kişi ve iyileşen hasta sayılarını vermektedir.</p><blockquote>  <p>Projeye başlamadan önce proje içerisinde veri transferi yapmamıza yarayacak ThingSpeak sitesinden biraz bahsetmek istiyorum. <a href=\"https://thingspeak.com/\">ThingSpeak</a> ücretsiz olarak hem arduino sensörleri ile okuduğunuz değerleri yazmaya, hem de yazdığınız değerleri telefonunuzda, bilgisayarınızda veya diğer akıllı cihazlarınızda anlık görebilmenize ve okuyabilmenize imkan tanıyan bir platform. API için kanal oluşturuyorsunuz ve sadece sizin bildiğiniz şifreler ile (API key) verilerinizi grafik üzerinde takip edebiliyorsunuz.Sadece veri gönderip okumaktan farklı olarak internetteki bir veriyi API ile IOT cihazlarınıza gönderebilirsiniz. Bizim bu projede yaptığımız da tam olarak bu.</p></blockquote><h3 id=\"malzeme-listesi\">Malzeme Listesi</h3><ul>  <li><span style=\"font-size:18px\">NodeMCU(ESP8266) Kartı</span></li>  <li><span style=\"font-size:18px\">Nokia 5110 ekranı</span></li></ul><h3 id=\"covid-19-verilerini-çekme\">COVID-19 Verilerini Çekme</h3><blockquote>  <p><strong>Worldometer sitesinden COVID-19 verisini çekeceğimiz ülkenin sayfasına gitmemiz gerekiyor. Bunun için <a href=\"https://www.worldometers.info/coronavirus/\">Worldometer</a> sitesine gidiyoruz.</strong></p></blockquote><p><img src=\"https://drive.google.com/uc?id=1guj430F_Nb7h785DPZEanxTvHflQ-eBT\" alt=\"Worldometer\" /></p><blockquote>  <p><strong>Siteye girdikten sonra sitenin alt kısmında bulunan tabloda verisini çekmek istediğimiz ülkenin linkine tıklyoruz.</strong></p></blockquote><p><br /></p><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=19K-hrviACswPIWBRbzcdphvZafJpXjUm\" alt=\"Worldometer\" /></p><blockquote>  <p><strong>Karşımıza gelen sayfada klavyenizden “F12” tuşuna basarak veya mouse’nuzla sağ tık atıp inceleye basarak sayfa kaynağının görüntülendiği ekranı açıyoruz.</strong></p></blockquote><p><br /></p><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=1Pmy21HS2mZHAZDgyAM_6LGFBoe1u6UJS\" alt=\"Worldometer\" /></p><blockquote>  <p><strong>Bu kısımda mavi alan içerisinde gösterilen kısma geliyoruz ve mouse ile sağ tık atıp /Copy/Copy XPath seçeneğine tıklıyoruz. Bu kopyalanan veriyi ThinkSpeak ekranında kullanacağız.</strong></p></blockquote><p><br /></p><h3 id=\"thingspeak-ayarları\">ThingSpeak Ayarları</h3><p><img src=\"https://drive.google.com/uc?id=1G85QbMpMbS_mFTT3uoJ336xzuQDUBquY\" alt=\"Worldometer\" class=\"img-responsive\" /></p><blockquote>  <p><strong>Projenin başında bahsettiğim gibi projemizde veri transferini sağlayacak olan ThingSpeak sitesine kayıt olmamız gerekiyor. Eğer kayıt olduysanız site anasayfasında üstte bulunan Apps butonuna gelin ve altta çıkan seçeneklerden ThingHTTP’ye tıklayın.</strong></p></blockquote><p><br /></p><p><img src=\"https://drive.google.com/uc?id=1t6lvGaHPbXU-ZXO5avTyAZ1dD1Eb3-et\" alt=\"Worldometer\" class=\"img-responsive\" /></p><blockquote>  <p><strong>ThingHTTP’ye tıkladıktan sonra karşımıza çıkan sayfada NewThingHTTP butonuna basıyoruz.</strong></p></blockquote><p><br /></p><p><img src=\"https://drive.google.com/uc?id=19k5UP3FxbW2rNiuGdEFC5_oK6VMDhKfx\" alt=\"Worldometer\" class=\"img-responsive\" /></p><blockquote>  <p><strong>Karşımıza gelen ekranda Name yazan kısma istediğinizi yazabilirsiniz. Ben Türkiye’deki COVID-19 verilerini çekmek istediğim için “Turkey” yazdım. Parse String kısmına kopyaladığımız XPath’i yapıştırıyoruz ve “Save ThingHTTP” butonuna basıyoruz.</strong></p></blockquote><p><br /></p><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=1y4hhlLZ0EvMTGCDuykayWZeYk9kji3ZU\" alt=\"image-title-here\" /></p><blockquote>  <p><strong>Kırmızı dikdörtgen ile işaretlenmiş alan içerisindeki API’yı kopyalıyoruz.</strong></p></blockquote><p><br /></p><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=1LKcq7rvfNLO-5H7JSJg6qAzP8AE6msZ4\" alt=\"image-title-here\" /></p><blockquote>  <p><strong>Kopyaladığımız API’yı yukarıdaki fotoğraftaki kırmızı alan içerisindeki api_key kısmına yapıştırıyoruz. Bu arada ağ adı ve ağ parolası yazan kısma bulunduğunuz ortamdaki wifi ağının adını ve parolasını girmeyi unutmayınız.</strong></p></blockquote><h3 id=\"proje-kaynak-kodu\">Proje Kaynak Kodu</h3><figure class=\"highlight\"><pre><code class=\"language-cpp\" data-lang=\"cpp\">#include &lt;graphicsLCD.h&gt;#include &lt;ESP8266WiFi.h&gt;                                                  #include &lt;ESP8266HTTPClient.h&gt;                                                                       const char* ssid = &quot;AğAdı&quot;;                                        const char* password =  &quot;AğParolası&quot;; const char* host = &quot;api.thingspeak.com&quot;;                                     const int httpPortRead = 80;                                           #define lcd_RST_pin D8#define lcd_CS_pin D7#define lcd_DIN_pin D5#define lcd_CLK_pin D4graphicsLCD lcd(lcd_RST_pin,lcd_CS_pin,lcd_DIN_pin,lcd_CLK_pin);const char* url1 = &quot;/apps/thinghttp/send_request?api_key=Api key yapıştıracağınız kısım&quot;; String toplam_vaka,vefat_eden,iyilesen,Data_Raw,Data_Raw_1,Data_Raw_2,Data_Raw_3;  int indx;WiFiClient client;                                                        HTTPClient http; String _parse(String value){  String kelime ;  for(int i=0; i &lt; value.length();i++)  {    if(value.substring(i,i+1) != &quot;,&quot;)      kelime += value.substring(i,i+1);    }  return kelime;}void setup() {  Serial.begin(9600);  lcd.begin();    lcd.clear();                                                           WiFi.disconnect();                                                  delay(1000);                                                             WiFi.begin(ssid, password);                                                 Serial.println(&quot;Wifi agina baglandı.&quot;);                                         Serial.println(WiFi.localIP());}   void loop()                                                                      {    if( http.begin(host,httpPortRead,url1))                                                    {        int httpCode = http.GET();                                                                          if (httpCode &gt; 0)                                                                      {          if (httpCode == HTTP_CODE_OK || httpCode == HTTP_CODE_MOVED_PERMANENTLY)             {                 lcd.line(1);              lcd.column(36);              lcd.print(&quot;Turkey&quot;);              Data_Raw = http.getString();                              Data_Raw_1 = Data_Raw;                                                indx = Data_Raw_1.indexOf(&quot;&gt;&quot;);                                                                    Data_Raw_1.remove(0,indx+1);                                      indx = Data_Raw_1.indexOf(&quot;&lt;&quot;);                                                                   Data_Raw_1.remove(indx,Data_Raw_1.length());                                      toplam_vaka=Data_Raw_1;              toplam_vaka = _parse(toplam_vaka);               lcd.line(4);              lcd.print(&quot;Toplam vaka: &quot;);              lcd.print(toplam_vaka.toInt());               lcd.print(&quot;k&quot;);              Data_Raw_2=Data_Raw;              indx = Data_Raw_2.indexOf(&quot;&lt;span&gt;&quot;);              Data_Raw_2.remove(0,indx+6);              Data_Raw_3=Data_Raw_2;              indx = Data_Raw_2.indexOf(&quot;&lt;/span&gt;&quot;);              Data_Raw_2.remove(indx,Data_Raw_2.length());              vefat_eden=Data_Raw_2;              vefat_eden = _parse(vefat_eden);              lcd.line(5);              lcd.print(&quot;Vefat eden: &quot;);              lcd.print(vefat_eden.toInt());                  indx = Data_Raw_3.indexOf(&quot;&lt;span&gt;&quot;);              Data_Raw_3.remove(0,indx+6);              indx = Data_Raw_3.indexOf(&quot;&lt;&quot;);              Data_Raw_3.remove(indx,Data_Raw_3.length());                            iyilesen=Data_Raw_3;              iyilesen = _parse(iyilesen);              lcd.line(6);              lcd.print(&quot;Iyilesen: &quot;);              lcd.print(iyilesen.toInt());                                                                                       }        }        else         {          Serial.printf(&quot;[HTTP] istegi alinamadi, Hata: %s\\n&quot;, http.errorToString(httpCode).c_str());        }        http.end();                                                                       }       else       {        Serial.printf(&quot;[HTTP} baglanılamıyor.\\n&quot;);      }    delay(5000);    while (WiFi.status() != WL_CONNECTED)                                            {         WiFi.disconnect();                                                                delay(1000);                                                                     WiFi.begin(ssid, password);                                                      Serial.println(&quot;Wifi agına tekrar baglaniyor.&quot;);               delay(10000);                                                                   }} String prs(String value){  for(int i=0; value.length();i++)  {    Serial.println(value.substring(i,i));  }}</code></pre></figure><h3 id=\"fritzing-şeması\">Fritzing Şeması</h3><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=1r8PjmfXzo9z4W8N3CiNr9mqrVJJ05_qO\" alt=\"image-title-here\" /></p><h3 id=\"sonuç\">Sonuç</h3><p class=\"img-responsive\"><img src=\"https://drive.google.com/uc?id=1pOMffX0ygMv5w6Fm2dVfhKiE38HyHZ32\" alt=\"image-title-here\" /></p>",
            "url": "http://localhost:4000/2020/05/19/nodemcu-esp8266-ve-nokia-5110-i%CC%87le-covid19-m%C3%B6nit%C3%B6r%C3%BC-yap%C4%B1m%C4%B1",
            
            
            
            "tags": ["NodeMCU","Esp8266","COVID-19","Corona","Worldometer","ThingSpeak","Nokia5110"],
            
            "date_published": "2020-05-19T23:15:02+03:00",
            "date_modified": "2020-05-19T23:15:02+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://localhost:4000/2020/05/13/blog-a%C3%A7%C4%B1ld%C4%B1",
            "title": "Blog Açıldı",
            "summary": null,
            "content_text": "",
            "content_html": "",
            "url": "http://localhost:4000/2020/05/13/blog-a%C3%A7%C4%B1ld%C4%B1",
            
            
            
            
            
            "date_published": "2020-05-13T23:15:02+03:00",
            "date_modified": "2020-05-13T23:15:02+03:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        }
    
    ]
}